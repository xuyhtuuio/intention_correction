2025-11-17 06:54:35,659 - INFO - 正在连接Milvus: 127.0.0.1:54104
2025-11-17 06:54:45,779 - ERROR - 连接Milvus失败: <MilvusException: (code=2, message=Fail connecting to server on 127.0.0.1:54104, illegal connection params or server unavailable)>
2025-11-17 06:54:45,779 - ERROR - 可能的原因: 
1. 网络连接问题
2. 认证信息错误
3. 集合不存在
4. Milvus服务未启动
2025-11-17 06:54:45,780 - ERROR - 加载JSON文件 user_features.json 失败: [Errno 2] No such file or directory: 'user_features.json'
2025-11-17 06:54:45,780 - ERROR - 加载JSON文件 top_k_risk_descriptions.json 失败: [Errno 2] No such file or directory: 'top_k_risk_descriptions.json'
2025-11-17 06:54:45,781 - ERROR - Milvus集合未初始化
2025-11-17 07:40:32,923 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-17 07:40:33,458 - ERROR - 集合 'intention' 不存在
2025-11-17 07:40:33,459 - ERROR - 加载JSON文件 user_features.json 失败: [Errno 2] No such file or directory: 'user_features.json'
2025-11-17 07:40:33,459 - ERROR - 加载JSON文件 top_k_risk_descriptions.json 失败: [Errno 2] No such file or directory: 'top_k_risk_descriptions.json'
2025-11-17 07:40:33,459 - ERROR - Milvus Lite集合未初始化
2025-11-17 08:14:57,933 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-17 08:14:58,552 - ERROR - 集合 'intention' 不存在
2025-11-17 08:14:58,553 - ERROR - Milvus Lite集合未初始化
2025-11-17 08:17:12,262 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-17 08:17:12,888 - INFO - 集合包含 0 个实体
2025-11-17 08:17:12,888 - INFO - 成功连接到Milvus Lite集合: test_collection
2025-11-17 08:17:12,890 - INFO - 集合包含 0 个实体
2025-11-17 08:17:12,890 - ERROR - 集合中缺少 'embedding' 字段
2025-11-17 10:22:17,004 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-17 10:22:17,542 - INFO - 索引创建成功
2025-11-17 10:22:17,542 - INFO - 集合 intention 准备就绪
2025-11-17 10:22:17,542 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-17 10:22:17,543 - ERROR - 加载意图识别训练数据失败: Extra data: line 2 column 1 (char 87)
2025-11-17 10:22:17,543 - ERROR - 没有意图识别训练数据可导入
2025-11-17 10:49:40,397 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-17 10:49:40,399 - INFO - 集合 intention 已存在
2025-11-17 10:49:40,402 - INFO - 集合索引已存在
2025-11-17 10:49:40,402 - INFO - 集合 intention 准备就绪
2025-11-17 10:49:40,402 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-17 10:49:40,403 - INFO - 成功加载 101 条意图识别训练数据
2025-11-17 10:49:40,403 - INFO - 开始批量插入数据到Milvus，总记录数: 101，批次大小: 50
2025-11-17 10:49:40,403 - INFO - 处理批次 1，记录数: 50
2025-11-17 10:49:40,684 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,729 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,774 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,818 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,861 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,905 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,948 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:40,990 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,035 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,081 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,125 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,169 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,212 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,256 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,300 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,346 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,390 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,437 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,484 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,528 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,572 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,615 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,658 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,702 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,744 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,786 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,828 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,870 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,912 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,955 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:41,998 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,040 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,082 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,134 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,180 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,224 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,271 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,315 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,357 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,403 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,450 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,505 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,549 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,593 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,640 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,684 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,729 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,771 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,815 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:42,857 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,508 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-17 10:49:43,510 - INFO - 批次 1 处理完成
2025-11-17 10:49:43,511 - INFO - 处理批次 2，记录数: 50
2025-11-17 10:49:43,559 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,609 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,654 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,706 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,756 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,797 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,840 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,884 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,935 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:43,985 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,028 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,070 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,117 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,158 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,199 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,242 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,288 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,335 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,380 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,427 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,471 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,515 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,560 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,605 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,649 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,692 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,736 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,780 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,824 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,869 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,913 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:44,958 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,002 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,045 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,088 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,132 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,176 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,220 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,265 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,314 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,364 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,416 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,462 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,507 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,551 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,593 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,638 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,688 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,775 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,817 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:45,945 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-17 10:49:45,948 - INFO - 批次 2 处理完成
2025-11-17 10:49:45,948 - INFO - 处理批次 3，记录数: 1
2025-11-17 10:49:45,995 - INFO - 成功获取文本embedding，维度: 1024
2025-11-17 10:49:46,008 - INFO - 成功插入 1 条记录，插入ID: 1
2025-11-17 10:49:46,010 - INFO - 批次 3 处理完成
2025-11-17 10:49:46,010 - INFO - 所有数据插入完成
2025-11-17 10:49:46,012 - INFO - 等待索引构建完成...
2025-11-17 10:49:46,013 - INFO - 集合 intention 已加载到内存
2025-11-17 10:49:46,014 - INFO - 意图识别训练数据导入完成
2025-11-17 10:50:23,902 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-17 10:50:24,530 - INFO - 集合包含 101 个实体
2025-11-17 10:50:24,531 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-17 10:50:24,532 - INFO - 集合包含 101 个实体
2025-11-17 10:50:24,532 - INFO - Milvus Lite连接测试成功
2025-11-17 10:50:24,533 - INFO - 开始RAG查询: 今天天气怎么样？
2025-11-17 10:50:24,533 - INFO - 正在获取查询向量...
2025-11-17 10:50:24,588 - INFO - 集合包含 101 个实体
2025-11-17 10:50:24,588 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:50:24,738 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:24,738 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:24,747 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:50:24,747 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:50:24,747 - INFO - 请求内容: 请回答：今天天气怎么样？...
2025-11-17 10:50:44,880 - INFO - 大模型调用成功
2025-11-17 10:50:44,880 - INFO - 开始并发RAG查询，共 5 个查询，最大并发数: 3
2025-11-17 10:50:44,884 - INFO - 开始RAG查询: 今天天气怎么样？
2025-11-17 10:50:44,885 - INFO - 开始RAG查询: 明天会下雨吗？
2025-11-17 10:50:44,885 - INFO - 正在获取查询向量...
2025-11-17 10:50:44,885 - INFO - 开始RAG查询: 周末天气预报
2025-11-17 10:50:44,885 - INFO - 正在获取查询向量...
2025-11-17 10:50:44,887 - INFO - 正在获取查询向量...
2025-11-17 10:50:45,037 - INFO - 集合包含 101 个实体
2025-11-17 10:50:45,037 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:50:45,037 - INFO - 集合包含 101 个实体
2025-11-17 10:50:45,038 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:50:45,040 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,040 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,040 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,040 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,041 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:50:45,041 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:50:45,041 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:50:45,041 - INFO - 请求内容: 请回答：今天天气怎么样？...
2025-11-17 10:50:45,041 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:50:45,042 - INFO - 请求内容: 请回答：明天会下雨吗？...
2025-11-17 10:50:45,049 - INFO - 集合包含 101 个实体
2025-11-17 10:50:45,050 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:50:45,052 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,052 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:50:45,052 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:50:45,052 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:50:45,053 - INFO - 请求内容: 请回答：周末天气预报...
2025-11-17 10:51:08,909 - INFO - 大模型调用成功
2025-11-17 10:51:08,909 - INFO - 开始RAG查询: 气温变化趋势
2025-11-17 10:51:08,909 - INFO - 查询完成: 明天会下雨吗？...
2025-11-17 10:51:08,909 - INFO - 正在获取查询向量...
2025-11-17 10:51:09,026 - INFO - 集合包含 101 个实体
2025-11-17 10:51:09,026 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:51:09,028 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:51:09,028 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:51:09,029 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:51:09,029 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:51:09,029 - INFO - 请求内容: 请回答：气温变化趋势...
2025-11-17 10:51:26,872 - INFO - 大模型调用成功
2025-11-17 10:51:26,872 - INFO - 开始RAG查询: 空气质量如何？
2025-11-17 10:51:26,872 - INFO - 查询完成: 今天天气怎么样？...
2025-11-17 10:51:26,872 - INFO - 正在获取查询向量...
2025-11-17 10:51:26,984 - INFO - 集合包含 101 个实体
2025-11-17 10:51:26,984 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-17 10:51:26,987 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:51:26,987 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-17 10:51:26,987 - WARNING - 未召回到相关文档，直接生成回答
2025-11-17 10:51:26,987 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-17 10:51:26,988 - INFO - 请求内容: 请回答：空气质量如何？...
2025-11-17 10:51:56,048 - INFO - 大模型调用成功
2025-11-17 10:51:56,049 - INFO - 查询完成: 周末天气预报...
2025-11-17 10:52:51,109 - INFO - 大模型调用成功
2025-11-17 10:52:51,109 - INFO - 查询完成: 空气质量如何？...
2025-11-17 10:53:40,999 - INFO - 大模型调用成功
2025-11-17 10:53:40,999 - INFO - 查询完成: 气温变化趋势...
2025-11-17 10:53:41,002 - INFO - 所有响应已保存到: responses/all_rag_responses_20251117_105341.json
2025-11-17 10:53:41,002 - INFO - 并发RAG查询完成，共处理 5 个查询
2025-11-18 01:44:35,328 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 01:44:36,098 - INFO - 集合包含 101 个实体
2025-11-18 01:44:36,098 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 01:44:36,100 - INFO - 集合包含 101 个实体
2025-11-18 01:44:36,100 - INFO - Milvus Lite连接测试成功
2025-11-18 01:44:36,100 - INFO - 开始RAG查询: 今天天气怎么样？
2025-11-18 01:44:36,100 - INFO - 正在获取查询向量...
2025-11-18 01:44:36,384 - INFO - 集合包含 101 个实体
2025-11-18 01:44:36,385 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 01:44:36,902 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:36,902 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:36,910 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 01:44:36,910 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 01:44:36,910 - INFO - 请求内容: 请回答：今天天气怎么样？...
2025-11-18 01:44:54,559 - INFO - 大模型调用成功
2025-11-18 01:44:54,559 - INFO - 开始并发RAG查询，共 5 个查询，最大并发数: 3
2025-11-18 01:44:54,563 - INFO - 开始RAG查询: 今天天气怎么样？
2025-11-18 01:44:54,564 - INFO - 开始RAG查询: 明天会下雨吗？
2025-11-18 01:44:54,564 - INFO - 正在获取查询向量...
2025-11-18 01:44:54,564 - INFO - 开始RAG查询: 周末天气预报
2025-11-18 01:44:54,564 - INFO - 正在获取查询向量...
2025-11-18 01:44:54,565 - INFO - 正在获取查询向量...
2025-11-18 01:44:54,690 - INFO - 集合包含 101 个实体
2025-11-18 01:44:54,691 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 01:44:54,693 - INFO - 集合包含 101 个实体
2025-11-18 01:44:54,693 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 01:44:54,694 - INFO - 集合包含 101 个实体
2025-11-18 01:44:54,695 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,695 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 01:44:54,695 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,695 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,696 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,697 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,697 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:44:54,698 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 01:44:54,698 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 01:44:54,698 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 01:44:54,698 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 01:44:54,698 - INFO - 请求内容: 请回答：明天会下雨吗？...
2025-11-18 01:44:54,698 - INFO - 请求内容: 请回答：今天天气怎么样？...
2025-11-18 01:44:54,701 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 01:44:54,702 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 01:44:54,702 - INFO - 请求内容: 请回答：周末天气预报...
2025-11-18 01:45:36,881 - INFO - 大模型调用成功
2025-11-18 01:45:36,882 - INFO - 开始RAG查询: 气温变化趋势
2025-11-18 01:45:36,882 - INFO - 查询完成: 今天天气怎么样？...
2025-11-18 01:45:36,882 - INFO - 正在获取查询向量...
2025-11-18 01:45:36,993 - INFO - 集合包含 101 个实体
2025-11-18 01:45:36,993 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 01:45:36,995 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:45:36,996 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 01:45:36,996 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 01:45:36,996 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 01:45:36,996 - INFO - 请求内容: 请回答：气温变化趋势...
2025-11-18 02:05:59,997 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:06:00,623 - INFO - 集合包含 101 个实体
2025-11-18 02:06:00,624 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 02:06:00,670 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-18 02:06:00,670 - INFO - [33mPress CTRL+C to quit[0m
2025-11-18 02:06:00,673 - INFO -  * Restarting with stat
2025-11-18 02:06:02,010 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:06:02,100 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-18 02:06:02,101 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-18 02:06:02,119 - WARNING -  * Debugger is active!
2025-11-18 02:06:02,132 - INFO -  * Debugger PIN: 131-384-954
2025-11-18 02:15:27,440 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:15:28,068 - INFO - 集合包含 101 个实体
2025-11-18 02:15:28,068 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 02:15:28,091 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-18 02:15:28,091 - INFO - [33mPress CTRL+C to quit[0m
2025-11-18 02:15:28,092 - INFO -  * Restarting with stat
2025-11-18 02:15:29,434 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:15:29,524 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-18 02:15:29,525 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-18 02:15:29,543 - WARNING -  * Debugger is active!
2025-11-18 02:15:29,544 - INFO -  * Debugger PIN: 131-384-954
2025-11-18 02:16:10,155 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-18 02:16:10,157 - INFO - 集合 intention 已存在
2025-11-18 02:16:10,160 - INFO - 集合索引已存在
2025-11-18 02:16:10,160 - INFO - 集合 intention 准备就绪
2025-11-18 02:16:10,161 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-18 02:16:10,163 - INFO - 成功加载 101 条意图识别训练数据
2025-11-18 02:16:10,163 - INFO - 开始批量插入数据到Milvus，总记录数: 101，批次大小: 50
2025-11-18 02:16:10,163 - INFO - 处理批次 1，记录数: 50
2025-11-18 02:16:10,217 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,261 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,304 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,348 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,389 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,433 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,476 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,518 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,563 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,606 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,650 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,694 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,737 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,781 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,824 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,868 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,912 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,956 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:10,999 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,044 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,087 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,130 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,173 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,217 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,269 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,314 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,358 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,402 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,446 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,492 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,538 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,588 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,631 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,675 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,724 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,772 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,819 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,862 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,904 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,948 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:11,990 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,037 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,082 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,125 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,170 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,213 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,258 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,302 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,344 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,387 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,693 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-18 02:16:12,695 - INFO - 批次 1 处理完成
2025-11-18 02:16:12,695 - INFO - 处理批次 2，记录数: 50
2025-11-18 02:16:12,742 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,787 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,835 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,880 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,926 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:12,973 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,018 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,064 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,113 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,157 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,200 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,242 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,285 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,328 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,372 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,415 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,458 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,500 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,542 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,584 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,626 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,699 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,742 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,795 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,846 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,891 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,934 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:13,977 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,021 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,065 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,110 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,156 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,203 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,244 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,287 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,330 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,372 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,414 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,455 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,498 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,540 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,581 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,622 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,663 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,706 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,748 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,789 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,831 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,871 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:14,915 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:15,045 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-18 02:16:15,047 - INFO - 批次 2 处理完成
2025-11-18 02:16:15,047 - INFO - 处理批次 3，记录数: 1
2025-11-18 02:16:15,091 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 02:16:15,106 - INFO - 成功插入 1 条记录，插入ID: 1
2025-11-18 02:16:15,108 - INFO - 批次 3 处理完成
2025-11-18 02:16:15,108 - INFO - 所有数据插入完成
2025-11-18 02:16:15,109 - INFO - 等待索引构建完成...
2025-11-18 02:16:15,111 - INFO - 集合 intention 已加载到内存
2025-11-18 02:16:15,111 - INFO - 意图识别训练数据导入完成
2025-11-18 02:16:28,170 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:16:28,801 - INFO - 集合包含 202 个实体
2025-11-18 02:16:28,801 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 02:16:28,825 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-18 02:16:28,825 - INFO - [33mPress CTRL+C to quit[0m
2025-11-18 02:16:28,826 - INFO -  * Restarting with stat
2025-11-18 02:16:30,090 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 02:16:30,175 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-18 02:16:30,176 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-18 02:16:30,195 - WARNING -  * Debugger is active!
2025-11-18 02:16:30,195 - INFO -  * Debugger PIN: 131-384-954
2025-11-18 07:11:36,854 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-18 07:11:37,393 - INFO - 索引创建成功
2025-11-18 07:11:37,394 - INFO - 集合 intention 准备就绪
2025-11-18 07:11:37,394 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-18 07:11:37,397 - INFO - 成功加载 101 条意图识别训练数据
2025-11-18 07:11:37,397 - INFO - 开始批量插入数据到Milvus，总记录数: 101，批次大小: 50
2025-11-18 07:11:37,397 - INFO - 处理批次 1，记录数: 50
2025-11-18 07:11:37,682 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,728 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,771 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,814 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,860 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,906 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,952 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:37,998 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,045 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,089 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,134 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,179 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,223 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,267 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,313 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,357 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,401 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,445 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,490 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,534 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,579 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,623 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,668 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,713 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,756 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,801 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,844 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,888 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,931 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:38,974 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,021 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,065 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,109 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,152 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,196 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,240 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,288 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,332 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,376 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,421 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,465 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,509 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,554 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,598 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,642 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,685 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,732 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,775 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,819 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:39,861 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,535 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-18 07:11:40,537 - INFO - 批次 1 处理完成
2025-11-18 07:11:40,538 - INFO - 处理批次 2，记录数: 50
2025-11-18 07:11:40,582 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,626 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,667 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,712 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,753 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,794 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,839 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,883 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,930 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:40,977 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,019 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,061 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,103 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,150 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,195 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,238 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,279 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,321 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,367 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,410 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,453 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,496 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,538 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,580 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,623 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,666 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,709 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,750 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,793 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,834 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,877 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,919 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:41,962 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,006 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,052 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,094 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,137 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,179 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,222 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,264 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,309 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,352 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,393 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,435 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,476 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,518 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,563 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,605 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,648 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,690 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,822 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-18 07:11:42,823 - INFO - 批次 2 处理完成
2025-11-18 07:11:42,824 - INFO - 处理批次 3，记录数: 1
2025-11-18 07:11:42,869 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 07:11:42,883 - INFO - 成功插入 1 条记录，插入ID: 1
2025-11-18 07:11:42,885 - INFO - 批次 3 处理完成
2025-11-18 07:11:42,885 - INFO - 所有数据插入完成
2025-11-18 07:11:42,887 - INFO - 等待索引构建完成...
2025-11-18 07:11:42,888 - INFO - 集合 intention 已加载到内存
2025-11-18 07:11:42,888 - INFO - 意图识别训练数据导入完成
2025-11-18 07:11:55,853 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:11:56,476 - INFO - 集合包含 101 个实体
2025-11-18 07:11:56,476 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:11:56,477 - INFO - 集合包含 101 个实体
2025-11-18 07:11:56,478 - INFO - Milvus Lite连接测试成功
2025-11-18 07:11:56,478 - INFO - 开始RAG查询: 今天天气怎么样？
2025-11-18 07:11:56,478 - INFO - 正在获取查询向量...
2025-11-18 07:11:56,529 - INFO - 集合包含 101 个实体
2025-11-18 07:11:56,529 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:11:56,672 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 07:11:56,672 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 07:11:56,680 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 07:11:56,680 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:11:56,680 - INFO - 请求内容: 请回答：今天天气怎么样？...
2025-11-18 07:12:10,734 - INFO - 大模型调用成功
2025-11-18 07:12:10,739 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:12:10,748 - INFO - 集合包含 101 个实体
2025-11-18 07:12:10,748 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:12:10,824 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-18 07:12:10,824 - INFO - [33mPress CTRL+C to quit[0m
2025-11-18 07:12:10,825 - INFO -  * Restarting with stat
2025-11-18 07:12:12,133 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:12:12,221 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-18 07:12:12,222 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-18 07:12:12,222 - ERROR - Milvus Lite集合未初始化
2025-11-18 07:13:25,771 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:13:26,404 - INFO - 集合包含 101 个实体
2025-11-18 07:13:26,404 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:13:26,406 - INFO - 集合包含 101 个实体
2025-11-18 07:13:26,406 - INFO - Milvus Lite连接测试成功
2025-11-18 07:13:26,406 - INFO - 开始RAG查询: 5G发展量
2025-11-18 07:13:26,406 - INFO - 正在获取查询向量...
2025-11-18 07:13:26,461 - INFO - 集合包含 101 个实体
2025-11-18 07:13:26,461 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:13:26,611 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 07:13:26,611 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=invalid parameter)>
2025-11-18 07:13:26,614 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 07:13:26,614 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:13:26,614 - INFO - 请求内容: 请回答：5G发展量...
2025-11-18 07:38:45,582 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:38:46,218 - INFO - 集合包含 101 个实体
2025-11-18 07:38:46,218 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:38:46,220 - INFO - 集合包含 101 个实体
2025-11-18 07:38:46,220 - INFO - Milvus Lite连接测试成功
2025-11-18 07:38:46,220 - INFO - 开始RAG查询: 5G发展量
2025-11-18 07:38:46,220 - INFO - 正在获取查询向量...
2025-11-18 07:38:46,277 - INFO - 集合包含 101 个实体
2025-11-18 07:38:46,277 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:38:46,507 - ERROR - 向量搜索失败: <MilvusException: (code=1100, message=fail to search: metric type not match: invalid [expected=COSINE][actual=IP]: invalid parameter)>
2025-11-18 07:38:46,507 - ERROR - 错误详情: MilvusException: <MilvusException: (code=1100, message=fail to search: metric type not match: invalid [expected=COSINE][actual=IP]: invalid parameter)>
2025-11-18 07:38:46,511 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 07:38:46,511 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:38:46,511 - INFO - 请求内容: 请回答：5G发展量...
2025-11-18 07:40:13,431 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:40:14,053 - INFO - 集合包含 101 个实体
2025-11-18 07:40:14,053 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:40:14,055 - INFO - 集合包含 101 个实体
2025-11-18 07:40:14,055 - INFO - Milvus Lite连接测试成功
2025-11-18 07:40:14,055 - INFO - 开始RAG查询: 5G发展量
2025-11-18 07:40:14,055 - INFO - 正在获取查询向量...
2025-11-18 07:40:14,141 - INFO - 集合包含 101 个实体
2025-11-18 07:40:14,141 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,290 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,291 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,291 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,291 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,291 - WARNING - 命中结果中没有content字段
2025-11-18 07:40:14,291 - INFO - 向量搜索返回 0 个文档
2025-11-18 07:40:14,291 - WARNING - 未召回到相关文档，直接生成回答
2025-11-18 07:40:14,291 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:40:14,291 - INFO - 请求内容: 请回答：5G发展量...
2025-11-18 07:42:16,222 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:42:16,846 - INFO - 集合包含 101 个实体
2025-11-18 07:42:16,847 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:42:16,848 - INFO - 集合包含 101 个实体
2025-11-18 07:42:16,848 - INFO - Milvus Lite连接测试成功
2025-11-18 07:42:16,849 - INFO - 开始RAG查询: 5G发展量
2025-11-18 07:42:16,849 - INFO - 正在获取查询向量...
2025-11-18 07:42:16,956 - INFO - 集合包含 101 个实体
2025-11-18 07:42:16,956 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:42:17,107 - INFO - 向量搜索返回 10 个文档
2025-11-18 07:42:17,108 - INFO - 召回到 10 个文档
2025-11-18 07:42:17,108 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 07:42:17,108 - INFO - 查询内容: 5G发展量...
2025-11-18 07:42:17,245 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 07:42:17,246 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 07:42:17,246 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:42:17,246 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 存储量大于100GB的资产

参考信息 2: 家庭宽带网络质量数据的业务口径是什么？

参考信息 3: 宽带终端数据有哪些

参考信息 4: 这个资产的申请进度

参考信息 5: 宽带商机协同运营需要什么数据

        用户问题：5G发展量

        请基于参考信息给...
2025-11-18 07:42:24,921 - INFO - 大模型调用成功
2025-11-18 07:42:24,923 - INFO - 响应已保存到: responses/rag_response_20251118_074224.json
2025-11-18 07:42:24,926 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:42:24,935 - INFO - 集合包含 101 个实体
2025-11-18 07:42:24,935 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:42:25,062 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-18 07:42:25,062 - INFO - [33mPress CTRL+C to quit[0m
2025-11-18 07:42:25,065 - INFO -  * Restarting with stat
2025-11-18 07:42:26,501 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:42:26,596 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-18 07:42:26,598 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-18 07:42:26,598 - ERROR - Milvus Lite集合未初始化
2025-11-18 07:51:02,448 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 07:51:03,069 - INFO - 集合包含 101 个实体
2025-11-18 07:51:03,069 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 07:51:03,071 - INFO - 集合包含 101 个实体
2025-11-18 07:51:03,071 - INFO - Milvus Lite连接测试成功
2025-11-18 07:51:03,071 - INFO - 开始RAG查询: 5G发展量
2025-11-18 07:51:03,071 - INFO - 正在获取查询向量...
2025-11-18 07:51:03,133 - INFO - 集合包含 101 个实体
2025-11-18 07:51:03,134 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 07:51:03,289 - INFO - 向量搜索返回 10 个文档
2025-11-18 07:51:03,289 - INFO - 召回到 10 个文档
2025-11-18 07:51:03,289 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 07:51:03,289 - INFO - 查询内容: 5G发展量...
2025-11-18 07:51:03,348 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 07:51:03,349 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 07:51:03,349 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 07:51:03,349 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 存储量大于100GB的资产

参考信息 2: 家庭宽带网络质量数据的业务口径是什么？

参考信息 3: 宽带终端数据有哪些

参考信息 4: 这个资产的申请进度

参考信息 5: 宽带商机协同运营需要什么数据

        用户问题：5G发展量

        请基于参考信息给...
2025-11-18 07:51:07,772 - INFO - 大模型调用成功
2025-11-18 07:51:07,775 - INFO - 响应已保存到: responses/rag_response_20251118_075107.json
2025-11-18 08:11:04,374 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:11:04,992 - INFO - 集合包含 101 个实体
2025-11-18 08:11:04,992 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:11:04,994 - INFO - 集合包含 101 个实体
2025-11-18 08:11:04,994 - INFO - Milvus Lite连接测试成功
2025-11-18 08:11:04,994 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  今天北京堵车吗？ 输出：
2025-11-18 08:11:04,994 - INFO - 正在获取查询向量...
2025-11-18 08:11:05,066 - INFO - 集合包含 101 个实体
2025-11-18 08:11:05,066 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:11:05,224 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:11:05,224 - INFO - 召回到 10 个文档
2025-11-18 08:11:05,225 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:11:05,225 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:11:06,239 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:11:06,239 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:11:06,240 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:11:06,240 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我最近访问的资产

参考信息 2: 什么是数据资产？

参考信息 3: 我下载过的资产

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 查看资产的开放范围

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若...
2025-11-18 08:11:10,051 - INFO - 大模型调用成功
2025-11-18 08:11:10,054 - INFO - 响应已保存到: responses/rag_response_20251118_081110.json
2025-11-18 08:12:18,944 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:12:19,566 - INFO - 集合包含 101 个实体
2025-11-18 08:12:19,566 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:12:19,567 - INFO - 集合包含 101 个实体
2025-11-18 08:12:19,567 - INFO - Milvus Lite连接测试成功
2025-11-18 08:12:19,568 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  M域的资产有哪些？ 输出：
2025-11-18 08:12:19,568 - INFO - 正在获取查询向量...
2025-11-18 08:12:19,635 - INFO - 集合包含 101 个实体
2025-11-18 08:12:19,635 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:12:19,791 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:12:19,791 - INFO - 召回到 10 个文档
2025-11-18 08:12:19,791 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:12:19,791 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:12:20,796 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:12:20,797 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:12:20,797 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:12:20,797 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 查看资产的开放范围

参考信息 2: 数据资产平台怎么使用？

参考信息 3: 我最近访问的资产

参考信息 4: 我下载过的资产

参考信息 5: 聚焦流失场景用到的资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。...
2025-11-18 08:12:25,658 - INFO - 大模型调用成功
2025-11-18 08:12:25,661 - INFO - 响应已保存到: responses/rag_response_20251118_081225.json
2025-11-18 08:13:28,243 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:13:28,865 - INFO - 集合包含 101 个实体
2025-11-18 08:13:28,865 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:13:28,867 - INFO - 集合包含 101 个实体
2025-11-18 08:13:28,867 - INFO - Milvus Lite连接测试成功
2025-11-18 08:13:28,867 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  M域的所有标签资产 输出：
2025-11-18 08:13:28,868 - INFO - 正在获取查询向量...
2025-11-18 08:13:28,934 - INFO - 集合包含 101 个实体
2025-11-18 08:13:28,934 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:13:29,089 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:13:29,089 - INFO - 召回到 10 个文档
2025-11-18 08:13:29,090 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:13:29,090 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:13:29,959 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:13:29,959 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:13:29,959 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:13:29,959 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 什么是数据资产？

参考信息 2: 怎么使用这个助手？

参考信息 3: 查找标签资产

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 我负责的资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问...
2025-11-18 08:13:35,789 - INFO - 大模型调用成功
2025-11-18 08:13:35,792 - INFO - 响应已保存到: responses/rag_response_20251118_081335.json
2025-11-18 08:16:56,161 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:16:56,780 - INFO - 集合包含 101 个实体
2025-11-18 08:16:56,780 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:16:56,782 - INFO - 集合包含 101 个实体
2025-11-18 08:16:56,782 - INFO - Milvus Lite连接测试成功
2025-11-18 08:16:56,782 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公共开放资产类型是数据模型的资产有哪些 输出：
2025-11-18 08:16:56,782 - INFO - 正在获取查询向量...
2025-11-18 08:16:56,849 - INFO - 集合包含 101 个实体
2025-11-18 08:16:56,849 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:16:57,006 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:16:57,006 - INFO - 召回到 10 个文档
2025-11-18 08:16:57,006 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:16:57,006 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:16:58,011 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:16:58,011 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:16:58,011 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:16:58,011 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 怎么使用这个助手？

参考信息 2: 我负责的资产

参考信息 3: 我下载过的资产

参考信息 4: 查看资产的开放范围

参考信息 5: 这个资产依赖哪些数据

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用...
2025-11-18 08:17:03,482 - INFO - 大模型调用成功
2025-11-18 08:17:03,485 - INFO - 响应已保存到: responses/rag_response_20251118_081703.json
2025-11-18 08:19:03,941 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:19:04,564 - INFO - 集合包含 101 个实体
2025-11-18 08:19:04,564 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:19:04,566 - INFO - 集合包含 101 个实体
2025-11-18 08:19:04,566 - INFO - Milvus Lite连接测试成功
2025-11-18 08:19:04,566 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  查询智慧家庭工程师信息这个资产 输出：
2025-11-18 08:19:04,566 - INFO - 正在获取查询向量...
2025-11-18 08:19:04,632 - INFO - 集合包含 101 个实体
2025-11-18 08:19:04,633 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:19:04,791 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:19:04,792 - INFO - 召回到 10 个文档
2025-11-18 08:19:04,792 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:19:04,792 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:19:05,783 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:19:05,783 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:19:05,784 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:19:05,784 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 数据资产平台怎么使用？

参考信息 2: 我负责的资产

参考信息 3: 怎么使用这个助手？

参考信息 4: 我下载过的资产

参考信息 5: 查询智慧家庭工程师信息这个资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽...
2025-11-18 08:19:11,256 - INFO - 大模型调用成功
2025-11-18 08:19:11,259 - INFO - 响应已保存到: responses/rag_response_20251118_081911.json
2025-11-18 08:28:51,633 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-18 08:28:51,636 - INFO - 集合 intention 已存在，正在删除...
2025-11-18 08:28:51,652 - INFO - 集合 intention 已删除
2025-11-18 08:28:52,181 - INFO - 索引创建成功
2025-11-18 08:28:52,181 - INFO - 新集合 intention 创建成功
2025-11-18 08:28:52,181 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-18 08:28:52,182 - INFO - 成功加载 85 条意图识别训练数据
2025-11-18 08:28:52,182 - INFO - 开始批量插入数据到Milvus，总记录数: 85，批次大小: 50
2025-11-18 08:28:52,182 - INFO - 处理批次 1，记录数: 50
2025-11-18 08:28:52,232 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,275 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,317 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,364 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,409 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,456 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,500 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,543 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,589 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,632 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,675 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,718 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,760 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,807 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,852 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,895 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,941 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:52,987 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,030 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,073 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,116 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,159 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,202 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,247 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,292 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,335 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,378 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,421 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,464 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,506 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,549 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,598 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,642 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,714 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,757 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,806 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,849 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,893 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,936 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:53,983 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,027 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,071 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,119 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,162 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,204 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,248 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,295 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,343 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,388 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,431 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,692 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-18 08:28:54,695 - INFO - 批次 1 处理完成
2025-11-18 08:28:54,695 - INFO - 处理批次 2，记录数: 35
2025-11-18 08:28:54,744 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,789 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,833 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,876 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,920 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:54,967 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,011 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,057 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,103 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,152 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,198 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,241 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,283 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,327 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,370 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,412 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,455 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,497 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,547 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,595 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,639 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,680 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,727 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,770 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,813 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,854 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,895 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,939 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:55,985 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,027 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,068 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,109 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,149 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,189 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,230 - INFO - 成功获取文本embedding，维度: 1024
2025-11-18 08:28:56,322 - INFO - 成功插入 35 条记录，插入ID: 35
2025-11-18 08:28:56,323 - INFO - 批次 2 处理完成
2025-11-18 08:28:56,323 - INFO - 所有数据插入完成
2025-11-18 08:28:56,325 - INFO - 等待索引构建完成...
2025-11-18 08:28:56,327 - INFO - 集合 intention 已加载到内存
2025-11-18 08:28:56,327 - INFO - 意图识别训练数据导入完成
2025-11-18 08:29:33,330 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:29:33,955 - INFO - 集合包含 85 个实体
2025-11-18 08:29:33,955 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:29:33,957 - INFO - 集合包含 85 个实体
2025-11-18 08:29:33,957 - INFO - Milvus Lite连接测试成功
2025-11-18 08:29:33,957 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  查询智慧家庭工程师信息这个资产 输出：
2025-11-18 08:29:33,957 - INFO - 正在获取查询向量...
2025-11-18 08:29:34,023 - INFO - 集合包含 85 个实体
2025-11-18 08:29:34,023 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:29:34,175 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:29:34,175 - INFO - 召回到 10 个文档
2025-11-18 08:29:34,175 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:29:34,175 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:29:35,166 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:29:35,166 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:29:35,166 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:29:35,167 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 这个资产依赖哪些数据

参考信息 2: 怎么使用这个助手？

参考信息 3: 数据资产平台怎么使用？

参考信息 4: 助手有哪些功能？

参考信息 5: 我最近访问的资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。...
2025-11-18 08:29:39,182 - INFO - 大模型调用成功
2025-11-18 08:29:39,185 - INFO - 响应已保存到: responses/rag_response_20251118_082939.json
2025-11-18 08:30:05,030 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:30:05,649 - INFO - 集合包含 85 个实体
2025-11-18 08:30:05,649 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:30:05,651 - INFO - 集合包含 85 个实体
2025-11-18 08:30:05,651 - INFO - Milvus Lite连接测试成功
2025-11-18 08:30:05,651 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  查询智慧家庭工程师信息这个资产 输出：
2025-11-18 08:30:05,651 - INFO - 正在获取查询向量...
2025-11-18 08:30:05,718 - INFO - 集合包含 85 个实体
2025-11-18 08:30:05,718 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:30:05,870 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:30:05,870 - INFO - 召回到 10 个文档
2025-11-18 08:30:05,870 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:30:05,870 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:30:06,861 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:30:06,861 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:30:06,861 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:30:06,861 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 数据资产平台怎么使用？

参考信息 2: 这个资产依赖哪些数据

参考信息 3: 助手有哪些功能？

参考信息 4: 怎么使用这个助手？

参考信息 5: 查询智慧家庭工程师信息这个资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意...
2025-11-18 08:30:12,285 - INFO - 大模型调用成功
2025-11-18 08:30:12,288 - INFO - 响应已保存到: responses/rag_response_20251118_083012.json
2025-11-18 08:31:08,433 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:31:09,052 - INFO - 集合包含 85 个实体
2025-11-18 08:31:09,053 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:31:09,054 - INFO - 集合包含 85 个实体
2025-11-18 08:31:09,054 - INFO - Milvus Lite连接测试成功
2025-11-18 08:31:09,054 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公共开放资产类型是数据模型的资产有哪些 输出：
2025-11-18 08:31:09,055 - INFO - 正在获取查询向量...
2025-11-18 08:31:09,121 - INFO - 集合包含 85 个实体
2025-11-18 08:31:09,121 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:31:09,273 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:31:09,273 - INFO - 召回到 10 个文档
2025-11-18 08:31:09,273 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:31:09,274 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:31:10,275 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:31:10,276 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:31:10,276 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:31:10,276 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 查看资产的开放范围

参考信息 2: 查找标签资产

参考信息 3: 什么是数据资产？

参考信息 4: 我下载过的资产

参考信息 5: 数据资产平台怎么使用？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用...
2025-11-18 08:31:17,098 - INFO - 大模型调用成功
2025-11-18 08:31:17,101 - INFO - 响应已保存到: responses/rag_response_20251118_083117.json
2025-11-18 08:32:02,589 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:32:03,210 - INFO - 集合包含 85 个实体
2025-11-18 08:32:03,210 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:32:03,212 - INFO - 集合包含 85 个实体
2025-11-18 08:32:03,212 - INFO - Milvus Lite连接测试成功
2025-11-18 08:32:03,212 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公开的资产是数据模型的有哪些 输出：
2025-11-18 08:32:03,212 - INFO - 正在获取查询向量...
2025-11-18 08:32:03,280 - INFO - 集合包含 85 个实体
2025-11-18 08:32:03,280 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:32:03,435 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:32:03,435 - INFO - 召回到 10 个文档
2025-11-18 08:32:03,436 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:32:03,436 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:32:04,427 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:32:04,427 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:32:04,427 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:32:04,427 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我下载过的资产

参考信息 2: 怎么使用这个助手？

参考信息 3: 助手有哪些功能？

参考信息 4: 服务感知相关的资产

参考信息 5: 数据资产平台怎么使用？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
 ...
2025-11-18 08:32:08,591 - INFO - 大模型调用成功
2025-11-18 08:32:08,593 - INFO - 响应已保存到: responses/rag_response_20251118_083208.json
2025-11-18 08:32:28,756 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:32:29,377 - INFO - 集合包含 85 个实体
2025-11-18 08:32:29,378 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:32:29,379 - INFO - 集合包含 85 个实体
2025-11-18 08:32:29,379 - INFO - Milvus Lite连接测试成功
2025-11-18 08:32:29,379 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公开的资产是数据模型的有哪些 输出：
2025-11-18 08:32:29,380 - INFO - 正在获取查询向量...
2025-11-18 08:32:29,446 - INFO - 集合包含 85 个实体
2025-11-18 08:32:29,446 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:32:29,602 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:32:29,602 - INFO - 召回到 10 个文档
2025-11-18 08:32:29,602 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:32:29,602 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:32:30,593 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:32:30,594 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:32:30,594 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:32:30,594 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 查看资产的开放范围

参考信息 2: 我下载过的资产

参考信息 3: 助手有哪些功能？

参考信息 4: 怎么使用这个助手？

参考信息 5: 这个资产依赖哪些数据

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  ...
2025-11-18 08:32:35,922 - INFO - 大模型调用成功
2025-11-18 08:32:35,925 - INFO - 响应已保存到: responses/rag_response_20251118_083235.json
2025-11-18 08:32:46,894 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:32:47,516 - INFO - 集合包含 85 个实体
2025-11-18 08:32:47,516 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:32:47,518 - INFO - 集合包含 85 个实体
2025-11-18 08:32:47,518 - INFO - Milvus Lite连接测试成功
2025-11-18 08:32:47,518 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公开的资产是数据模型的有哪些 输出：
2025-11-18 08:32:47,518 - INFO - 正在获取查询向量...
2025-11-18 08:32:47,586 - INFO - 集合包含 85 个实体
2025-11-18 08:32:47,587 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:32:47,740 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:32:47,740 - INFO - 召回到 10 个文档
2025-11-18 08:32:47,740 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:32:47,740 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:32:48,732 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:32:48,733 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:32:48,733 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:32:48,733 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我下载过的资产

参考信息 2: 这个资产依赖哪些数据

参考信息 3: 什么是数据资产？

参考信息 4: 助手有哪些功能？

参考信息 5: 怎么使用这个助手？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若...
2025-11-18 08:32:52,916 - INFO - 大模型调用成功
2025-11-18 08:32:52,919 - INFO - 响应已保存到: responses/rag_response_20251118_083252.json
2025-11-18 08:33:02,295 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:33:02,908 - INFO - 集合包含 85 个实体
2025-11-18 08:33:02,908 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:33:02,910 - INFO - 集合包含 85 个实体
2025-11-18 08:33:02,910 - INFO - Milvus Lite连接测试成功
2025-11-18 08:33:02,910 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公开的资产是数据模型的有哪些 输出：
2025-11-18 08:33:02,910 - INFO - 正在获取查询向量...
2025-11-18 08:33:02,979 - INFO - 集合包含 85 个实体
2025-11-18 08:33:02,979 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:33:03,123 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:33:03,123 - INFO - 召回到 10 个文档
2025-11-18 08:33:03,123 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:33:03,123 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:33:04,114 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:33:04,115 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:33:04,115 - INFO - 调用大模型API: http://127.0.0.1:6662/v1/chat/completions
2025-11-18 08:33:04,115 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我下载过的资产

参考信息 2: 助手有哪些功能？

参考信息 3: 这个资产依赖哪些数据

参考信息 4: 什么是数据资产？

参考信息 5: 怎么使用这个助手？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若...
2025-11-18 08:33:08,281 - INFO - 大模型调用成功
2025-11-18 08:33:08,284 - INFO - 响应已保存到: responses/rag_response_20251118_083308.json
2025-11-18 08:36:04,469 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:36:05,077 - INFO - 集合包含 85 个实体
2025-11-18 08:36:05,077 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:36:05,079 - INFO - 集合包含 85 个实体
2025-11-18 08:36:05,079 - INFO - Milvus Lite连接测试成功
2025-11-18 08:36:05,079 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  公开的资产是数据模型的有哪些 输出：
2025-11-18 08:36:05,080 - INFO - 正在获取查询向量...
2025-11-18 08:36:05,146 - INFO - 集合包含 85 个实体
2025-11-18 08:36:05,147 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:36:05,269 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:36:05,269 - INFO - 召回到 10 个文档
2025-11-18 08:36:05,270 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:36:05,270 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:36:06,262 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:36:06,262 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:36:06,262 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:36:06,262 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 什么是数据资产？

参考信息 2: 我下载过的资产

参考信息 3: 怎么使用这个助手？

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 助手有哪些功能？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若...
2025-11-18 08:36:17,245 - INFO - 大模型调用成功
2025-11-18 08:36:17,250 - INFO - 响应已保存到: responses/rag_response_20251118_083617.json
2025-11-18 08:38:15,451 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:38:16,063 - INFO - 集合包含 85 个实体
2025-11-18 08:38:16,063 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:38:16,065 - INFO - 集合包含 85 个实体
2025-11-18 08:38:16,066 - INFO - Milvus Lite连接测试成功
2025-11-18 08:38:16,066 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  资产类型是数据模型并且是总部软研院并且是DWD的资产有哪些 输出：
2025-11-18 08:38:16,066 - INFO - 正在获取查询向量...
2025-11-18 08:38:16,140 - INFO - 集合包含 85 个实体
2025-11-18 08:38:16,140 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:38:16,265 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:38:16,266 - INFO - 召回到 10 个文档
2025-11-18 08:38:16,266 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:38:16,266 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:38:17,274 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:38:17,275 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:38:17,275 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:38:17,275 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我下载过的资产

参考信息 2: 我负责的资产

参考信息 3: DWD层的资产

参考信息 4: 查看资产的开放范围

参考信息 5: 什么是数据资产？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与...
2025-11-18 08:38:33,821 - INFO - 大模型调用成功
2025-11-18 08:38:33,824 - INFO - 响应已保存到: responses/rag_response_20251118_083833.json
2025-11-18 08:40:10,699 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:40:11,309 - INFO - 集合包含 85 个实体
2025-11-18 08:40:11,309 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:40:11,311 - INFO - 集合包含 85 个实体
2025-11-18 08:40:11,311 - INFO - Milvus Lite连接测试成功
2025-11-18 08:40:11,311 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  资产类型是数据模型并且是总部软研院最近上新并且是DWD的资产有哪些 输出：
2025-11-18 08:40:11,311 - INFO - 正在获取查询向量...
2025-11-18 08:40:11,383 - INFO - 集合包含 85 个实体
2025-11-18 08:40:11,383 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:40:11,505 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:40:11,505 - INFO - 召回到 10 个文档
2025-11-18 08:40:11,506 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:40:11,506 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:40:12,522 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:40:12,522 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:40:12,522 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:40:12,522 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我负责的资产

参考信息 2: 什么是数据资产？

参考信息 3: 这个资产依赖哪些数据

参考信息 4: DWD层的资产

参考信息 5: 查看资产的开放范围

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户...
2025-11-18 08:40:31,792 - INFO - 大模型调用成功
2025-11-18 08:40:31,794 - INFO - 响应已保存到: responses/rag_response_20251118_084031.json
2025-11-18 08:51:13,692 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:51:14,302 - INFO - 集合包含 85 个实体
2025-11-18 08:51:14,302 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:51:14,304 - INFO - 集合包含 85 个实体
2025-11-18 08:51:14,304 - INFO - Milvus Lite连接测试成功
2025-11-18 08:51:14,304 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  资产类型是数据模型并且是总部软研院最近上新并且是DWD的资产有哪些 输出：
2025-11-18 08:51:14,304 - INFO - 正在获取查询向量...
2025-11-18 08:51:14,433 - INFO - 集合包含 85 个实体
2025-11-18 08:51:14,433 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:51:14,554 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:51:14,554 - INFO - 召回到 10 个文档
2025-11-18 08:51:14,554 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:51:14,554 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:51:15,593 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:51:15,593 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:51:15,593 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:51:15,593 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: DWD层的资产

参考信息 2: 我负责的资产

参考信息 3: ESD层的所有资产

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 查看资产的开放范围

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用...
2025-11-18 08:51:35,708 - INFO - 大模型调用成功
2025-11-18 08:51:35,711 - INFO - 响应已保存到: responses/rag_response_20251118_085135.json
2025-11-18 08:54:30,722 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:54:31,337 - INFO - 集合包含 85 个实体
2025-11-18 08:54:31,338 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:54:31,339 - INFO - 集合包含 85 个实体
2025-11-18 08:54:31,339 - INFO - Milvus Lite连接测试成功
2025-11-18 08:54:31,340 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  资产类型是数据模型并且是总部软研院最近上新并且是DWD的资产有哪些 输出：
2025-11-18 08:54:31,340 - INFO - 正在获取查询向量...
2025-11-18 08:54:31,410 - INFO - 集合包含 85 个实体
2025-11-18 08:54:31,410 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:54:31,526 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:54:31,526 - INFO - 召回到 10 个文档
2025-11-18 08:54:31,526 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:54:31,527 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:54:32,545 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:54:32,545 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:54:32,545 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:54:32,545 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 什么是数据资产？

参考信息 2: DWD层的资产

参考信息 3: 这个资产依赖哪些数据

参考信息 4: 查看资产的开放范围

参考信息 5: 我负责的资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户...
2025-11-18 08:54:52,215 - INFO - 大模型调用成功
2025-11-18 08:54:52,218 - INFO - 响应已保存到: responses/rag_response_20251118_085452.json
2025-11-18 08:55:28,308 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:55:28,915 - INFO - 集合包含 85 个实体
2025-11-18 08:55:28,916 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:55:28,917 - INFO - 集合包含 85 个实体
2025-11-18 08:55:28,917 - INFO - Milvus Lite连接测试成功
2025-11-18 08:55:28,917 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  今天天气怎么样 输出：
2025-11-18 08:55:28,918 - INFO - 正在获取查询向量...
2025-11-18 08:55:28,985 - INFO - 集合包含 85 个实体
2025-11-18 08:55:28,985 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:55:29,107 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:55:29,107 - INFO - 召回到 10 个文档
2025-11-18 08:55:29,107 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:55:29,107 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:55:30,103 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:55:30,103 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:55:30,103 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:55:30,103 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 什么是数据资产？

参考信息 2: 我负责的资产

参考信息 3: 怎么使用这个助手？

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 助手有哪些功能？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用...
2025-11-18 08:55:36,339 - INFO - 大模型调用成功
2025-11-18 08:55:36,342 - INFO - 响应已保存到: responses/rag_response_20251118_085536.json
2025-11-18 08:55:47,113 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:55:47,722 - INFO - 集合包含 85 个实体
2025-11-18 08:55:47,722 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:55:47,724 - INFO - 集合包含 85 个实体
2025-11-18 08:55:47,724 - INFO - Milvus Lite连接测试成功
2025-11-18 08:55:47,724 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  今天天气怎么样 输出：
2025-11-18 08:55:47,725 - INFO - 正在获取查询向量...
2025-11-18 08:55:47,792 - INFO - 集合包含 85 个实体
2025-11-18 08:55:47,793 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:55:47,916 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:55:47,917 - INFO - 召回到 10 个文档
2025-11-18 08:55:47,917 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:55:47,917 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:55:48,914 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:55:48,914 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:55:48,914 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:55:48,914 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 什么是数据资产？

参考信息 2: 我负责的资产

参考信息 3: 助手有哪些功能？

参考信息 4: 怎么使用这个助手？

参考信息 5: 这个资产依赖哪些数据

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用...
2025-11-18 08:55:55,167 - INFO - 大模型调用成功
2025-11-18 08:55:55,169 - INFO - 响应已保存到: responses/rag_response_20251118_085555.json
2025-11-18 08:57:02,412 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:57:03,023 - INFO - 集合包含 85 个实体
2025-11-18 08:57:03,023 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:57:03,024 - INFO - 集合包含 85 个实体
2025-11-18 08:57:03,025 - INFO - Milvus Lite连接测试成功
2025-11-18 08:57:03,025 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  少男打呼噜吗 输出：
2025-11-18 08:57:03,025 - INFO - 正在获取查询向量...
2025-11-18 08:57:03,094 - INFO - 集合包含 85 个实体
2025-11-18 08:57:03,094 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:57:03,215 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:57:03,216 - INFO - 召回到 10 个文档
2025-11-18 08:57:03,216 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:57:03,216 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:57:04,224 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:57:04,224 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:57:04,224 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:57:04,225 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 数据资产平台怎么使用？

参考信息 2: 什么是数据资产？

参考信息 3: 我负责的资产

参考信息 4: 助手有哪些功能？

参考信息 5: 查询智慧家庭工程师信息这个资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽...
2025-11-18 08:57:15,343 - INFO - 大模型调用成功
2025-11-18 08:57:15,346 - INFO - 响应已保存到: responses/rag_response_20251118_085715.json
2025-11-18 08:58:16,399 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-18 08:58:17,005 - INFO - 集合包含 85 个实体
2025-11-18 08:58:17,006 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-18 08:58:17,007 - INFO - 集合包含 85 个实体
2025-11-18 08:58:17,007 - INFO - Milvus Lite连接测试成功
2025-11-18 08:58:17,007 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  HR系统上游依赖有哪些？ 输出：
2025-11-18 08:58:17,008 - INFO - 正在获取查询向量...
2025-11-18 08:58:17,073 - INFO - 集合包含 85 个实体
2025-11-18 08:58:17,073 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-18 08:58:17,192 - INFO - 向量搜索返回 10 个文档
2025-11-18 08:58:17,193 - INFO - 召回到 10 个文档
2025-11-18 08:58:17,193 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-18 08:58:17,193 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-18 08:58:18,193 - INFO - Rerank调用成功，返回 10 个结果
2025-11-18 08:58:18,194 - INFO - 重排序后选择 5 个最相关文档
2025-11-18 08:58:18,194 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-18 08:58:18,194 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 查看资产的开放范围

参考信息 2: 我负责的资产

参考信息 3: 数据资产平台怎么使用？

参考信息 4: 我最近访问的资产

参考信息 5: 助手有哪些功能？

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若...
2025-11-18 08:58:28,671 - INFO - 大模型调用成功
2025-11-18 08:58:28,673 - INFO - 响应已保存到: responses/rag_response_20251118_085828.json
2025-11-19 01:13:52,789 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-19 01:13:53,553 - INFO - 集合包含 85 个实体
2025-11-19 01:13:53,553 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-19 01:13:53,554 - INFO - 集合包含 85 个实体
2025-11-19 01:13:53,555 - INFO - Milvus Lite连接测试成功
2025-11-19 01:13:53,555 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  HR系统上游依赖有哪些？ 输出：
2025-11-19 01:13:53,555 - INFO - 正在获取查询向量...
2025-11-19 01:13:53,839 - INFO - 集合包含 85 个实体
2025-11-19 01:13:53,839 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-19 01:13:54,377 - INFO - 向量搜索返回 10 个文档
2025-11-19 01:13:54,378 - INFO - 召回到 10 个文档
2025-11-19 01:13:54,378 - INFO - 调用rerank API: http://127.0.0.1:6664/v1/rerank
2025-11-19 01:13:54,378 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-19 01:13:55,420 - INFO - Rerank调用成功，返回 10 个结果
2025-11-19 01:13:55,420 - INFO - 重排序后选择 5 个最相关文档
2025-11-19 01:13:55,420 - INFO - 调用大模型API: http://127.0.0.1:6661/v1/chat/completions
2025-11-19 01:13:55,420 - INFO - 请求内容: 
        请根据以下参考信息回答用户的问题：

        参考信息：
        参考信息 1: 我下载过的资产

参考信息 2: 我负责的资产

参考信息 3: 查看资产的开放范围

参考信息 4: 这个资产依赖哪些数据

参考信息 5: 查找标签资产

        用户问题：【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题...
2025-11-19 01:14:05,758 - INFO - 大模型调用成功
2025-11-19 01:14:05,761 - INFO - 响应已保存到: responses/rag_response_20251119_011405.json
2025-11-19 03:22:22,082 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-19 03:22:22,855 - INFO - 集合包含 85 个实体
2025-11-19 03:22:22,856 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-19 03:22:22,860 - INFO - Flask RAG API 服务启动
2025-11-19 03:22:22,905 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://137.4.5.110:5000
2025-11-19 03:22:22,905 - INFO - [33mPress CTRL+C to quit[0m
2025-11-19 03:22:22,907 - INFO -  * Restarting with stat
2025-11-19 03:22:24,276 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-19 03:22:24,366 - ERROR - Open /home/jovyan/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-19 03:22:24,367 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-19 03:22:24,371 - INFO - Flask RAG API 服务启动
2025-11-19 03:22:24,386 - WARNING -  * Debugger is active!
2025-11-19 03:22:24,387 - INFO -  * Debugger PIN: 131-384-954
2025-11-19 06:42:09,047 - INFO -  * Detected change in '/home/jovyan/intention_correction/.ipynb_checkpoints/flask_api-checkpoint.py', reloading
2025-11-19 06:42:09,429 - INFO -  * Restarting with stat
2025-11-20 08:38:22,385 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-20 08:38:22,385 - INFO - 集合 intention 已存在，正在删除...
2025-11-20 08:38:22,388 - INFO - 集合 intention 已删除
2025-11-20 08:38:22,894 - INFO - 索引创建成功
2025-11-20 08:38:22,894 - INFO - 新集合 intention 创建成功
2025-11-20 08:38:22,894 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-20 08:38:22,894 - INFO - 成功加载 85 条意图识别训练数据
2025-11-20 08:38:22,894 - INFO - 开始批量插入数据到Milvus，总记录数: 85，批次大小: 50
2025-11-20 08:38:22,894 - INFO - 处理批次 1，记录数: 50
2025-11-20 08:38:22,899 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,900 - WARNING - 输入 '查询智慧家庭工程师信息这个资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,902 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,902 - WARNING - 输入 'M域的所有标签资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,904 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,904 - WARNING - 输入 '平台上有哪些五星资产？' 的embedding获取失败，跳过
2025-11-20 08:38:22,906 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,906 - WARNING - 输入 '总部租户的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:38:22,908 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,908 - WARNING - 输入 '查找标签资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,909 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,909 - WARNING - 输入 'O域的数据表' 的embedding获取失败，跳过
2025-11-20 08:38:22,911 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,911 - WARNING - 输入 '本周上新的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,912 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,913 - WARNING - 输入 '订阅最多的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,914 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,914 - WARNING - 输入 '日更新周期的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,916 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,916 - WARNING - 输入 '公共开放的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,917 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,917 - WARNING - 输入 '非敏感等级的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,919 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,919 - WARNING - 输入 'DWD层的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,920 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,921 - WARNING - 输入 '固网视图的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,922 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,922 - WARNING - 输入 'ESD层的所有资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,924 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,924 - WARNING - 输入 '月更新的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:38:22,925 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,925 - WARNING - 输入 '存储量大于100GB的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,927 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,927 - WARNING - 输入 '四星资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:38:22,928 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,929 - WARNING - 输入 '高价值资产列表' 的embedding获取失败，跳过
2025-11-20 08:38:22,930 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,930 - WARNING - 输入 '质量评分大于90的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,932 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,932 - WARNING - 输入 '最新上架的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,933 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,933 - WARNING - 输入 '家庭圈模型的负责人是谁？' 的embedding获取失败，跳过
2025-11-20 08:38:22,935 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,935 - WARNING - 输入 '家庭宽带网络质量数据是干什么用的？' 的embedding获取失败，跳过
2025-11-20 08:38:22,937 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,937 - WARNING - 输入 '家庭宽带网络质量数据的业务口径是什么？' 的embedding获取失败，跳过
2025-11-20 08:38:22,938 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,938 - WARNING - 输入 '这个资产的技术口径' 的embedding获取失败，跳过
2025-11-20 08:38:22,940 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,940 - WARNING - 输入 '智慧家庭工程师信息的数据更新周期' 的embedding获取失败，跳过
2025-11-20 08:38:22,941 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,942 - WARNING - 输入 '家庭圈模型的存储量是多少' 的embedding获取失败，跳过
2025-11-20 08:38:22,943 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,943 - WARNING - 输入 '上海家庭视图标签信息的负责人' 的embedding获取失败，跳过
2025-11-20 08:38:22,945 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,945 - WARNING - 输入 '上海家庭视图标签信息是干什么的' 的embedding获取失败，跳过
2025-11-20 08:38:22,946 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,946 - WARNING - 输入 '家庭圈模型的版本号' 的embedding获取失败，跳过
2025-11-20 08:38:22,948 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,948 - WARNING - 输入 '智慧家庭工程师信息的状态' 的embedding获取失败，跳过
2025-11-20 08:38:22,949 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,950 - WARNING - 输入 '家庭宽带网络质量数据的数据具备时间' 的embedding获取失败，跳过
2025-11-20 08:38:22,951 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,951 - WARNING - 输入 '这个资产归属哪个组织' 的embedding获取失败，跳过
2025-11-20 08:38:22,953 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,953 - WARNING - 输入 '资产的分类分级是什么' 的embedding获取失败，跳过
2025-11-20 08:38:22,954 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,954 - WARNING - 输入 '查看资产的开放范围' 的embedding获取失败，跳过
2025-11-20 08:38:22,956 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,956 - WARNING - 输入 '这个资产的归属项目' 的embedding获取失败，跳过
2025-11-20 08:38:22,957 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,957 - WARNING - 输入 '资产发布人是谁' 的embedding获取失败，跳过
2025-11-20 08:38:22,959 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,959 - WARNING - 输入 '数据存储周期多长' 的embedding获取失败，跳过
2025-11-20 08:38:22,961 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,961 - WARNING - 输入 '张三负责哪些资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,962 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,962 - WARNING - 输入 '李四发布的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:38:22,964 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,964 - WARNING - 输入 '家庭圈模型的价值评分是多少？' 的embedding获取失败，跳过
2025-11-20 08:38:22,965 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,965 - WARNING - 输入 '这个资产的星级是多少？' 的embedding获取失败，跳过
2025-11-20 08:38:22,967 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,967 - WARNING - 输入 '家庭宽带网络质量数据的质量稽核有什么问题？' 的embedding获取失败，跳过
2025-11-20 08:38:22,969 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,969 - WARNING - 输入 '家庭圈模型的质量怎么样' 的embedding获取失败，跳过
2025-11-20 08:38:22,970 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,970 - WARNING - 输入 '智慧家庭工程师信息的价值如何' 的embedding获取失败，跳过
2025-11-20 08:38:22,972 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,972 - WARNING - 输入 '上海家庭视图标签信息的星级评定' 的embedding获取失败，跳过
2025-11-20 08:38:22,973 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,973 - WARNING - 输入 '最近哪些资产的价值评分上升了？' 的embedding获取失败，跳过
2025-11-20 08:38:22,975 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,975 - WARNING - 输入 '智慧家庭工程师信息的上游依赖有哪些？' 的embedding获取失败，跳过
2025-11-20 08:38:22,977 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,977 - WARNING - 输入 '智慧家庭工程师信息的血缘图' 的embedding获取失败，跳过
2025-11-20 08:38:22,978 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,978 - WARNING - 输入 '这个资产的下游应用是什么?' 的embedding获取失败，跳过
2025-11-20 08:38:22,980 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,980 - WARNING - 输入 '家庭宽带网络质量数据的数据来源' 的embedding获取失败，跳过
2025-11-20 08:38:22,980 - INFO - 批次 1 处理完成
2025-11-20 08:38:22,980 - INFO - 处理批次 2，记录数: 35
2025-11-20 08:38:22,981 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,982 - WARNING - 输入 '上海家庭视图标签信息的上游是什么' 的embedding获取失败，跳过
2025-11-20 08:38:22,983 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,983 - WARNING - 输入 '家庭圈模型的下游资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,985 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,985 - WARNING - 输入 '这个资产依赖哪些数据' 的embedding获取失败，跳过
2025-11-20 08:38:22,986 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,986 - WARNING - 输入 '资产的血缘关系' 的embedding获取失败，跳过
2025-11-20 08:38:22,988 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,988 - WARNING - 输入 '我订阅的资产有哪些？' 的embedding获取失败，跳过
2025-11-20 08:38:22,989 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,990 - WARNING - 输入 '我收藏的五星资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,991 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,991 - WARNING - 输入 '家庭圈模型的工单进度如何？' 的embedding获取失败，跳过
2025-11-20 08:38:22,993 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,993 - WARNING - 输入 '这个资产有多少人订阅？' 的embedding获取失败，跳过
2025-11-20 08:38:22,994 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,994 - WARNING - 输入 '我创建的资产列表' 的embedding获取失败，跳过
2025-11-20 08:38:22,996 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,996 - WARNING - 输入 '我负责的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,997 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,998 - WARNING - 输入 '我最近访问的资产' 的embedding获取失败，跳过
2025-11-20 08:38:22,999 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:22,999 - WARNING - 输入 '我下载过的资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,001 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,001 - WARNING - 输入 '智慧家庭工程师信息有多少人使用' 的embedding获取失败，跳过
2025-11-20 08:38:23,002 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,002 - WARNING - 输入 '家庭圈模型的工单数量' 的embedding获取失败，跳过
2025-11-20 08:38:23,004 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,004 - WARNING - 输入 '这个资产的申请进度' 的embedding获取失败，跳过
2025-11-20 08:38:23,005 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,006 - WARNING - 输入 '身份属性热点相关的资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,007 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,007 - WARNING - 输入 '家庭关系相关的数据' 的embedding获取失败，跳过
2025-11-20 08:38:23,009 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,009 - WARNING - 输入 '智慧双推运营场景需要什么数据？' 的embedding获取失败，跳过
2025-11-20 08:38:23,010 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,010 - WARNING - 输入 '聚焦融合场景相关资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,012 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,012 - WARNING - 输入 '移网终端相关资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,013 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,013 - WARNING - 输入 '宽带终端数据有哪些' 的embedding获取失败，跳过
2025-11-20 08:38:23,015 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,015 - WARNING - 输入 '服务感知相关的资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,017 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,017 - WARNING - 输入 '家庭圈模型和家庭宽带网络质量数据的字段有什么不同？' 的embedding获取失败，跳过
2025-11-20 08:38:23,018 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,018 - WARNING - 输入 'ESD层的公共资产' 的embedding获取失败，跳过
2025-11-20 08:38:23,020 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,020 - WARNING - 输入 '如何订阅资产？' 的embedding获取失败，跳过
2025-11-20 08:38:23,021 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,021 - WARNING - 输入 '什么是数据资产？' 的embedding获取失败，跳过
2025-11-20 08:38:23,023 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,023 - WARNING - 输入 '如何提交工单？' 的embedding获取失败，跳过
2025-11-20 08:38:23,024 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,025 - WARNING - 输入 '数据资产平台怎么使用？' 的embedding获取失败，跳过
2025-11-20 08:38:23,026 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,026 - WARNING - 输入 '平台的联系人是谁？' 的embedding获取失败，跳过
2025-11-20 08:38:23,028 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,028 - WARNING - 输入 '业务口径和技术口径的区别' 的embedding获取失败，跳过
2025-11-20 08:38:23,029 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,029 - WARNING - 输入 '你是谁？能做什么？' 的embedding获取失败，跳过
2025-11-20 08:38:23,031 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,031 - WARNING - 输入 '助手有哪些功能？' 的embedding获取失败，跳过
2025-11-20 08:38:23,032 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,033 - WARNING - 输入 '怎么使用这个助手？' 的embedding获取失败，跳过
2025-11-20 08:38:23,034 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,034 - WARNING - 输入 '今天天气怎么样？' 的embedding获取失败，跳过
2025-11-20 08:38:23,036 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:38:23,036 - WARNING - 输入 '帮我写个笑话' 的embedding获取失败，跳过
2025-11-20 08:38:23,036 - INFO - 批次 2 处理完成
2025-11-20 08:38:23,036 - INFO - 所有数据插入完成
2025-11-20 08:38:23,037 - INFO - 等待索引构建完成...
2025-11-20 08:38:23,038 - INFO - 集合 intention 已加载到内存
2025-11-20 08:38:23,038 - INFO - 意图识别训练数据导入完成
2025-11-20 08:39:56,196 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-20 08:39:56,199 - INFO - 集合 intention 已存在，正在删除...
2025-11-20 08:39:56,202 - INFO - 集合 intention 已删除
2025-11-20 08:39:56,708 - INFO - 索引创建成功
2025-11-20 08:39:56,708 - INFO - 新集合 intention 创建成功
2025-11-20 08:39:56,708 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-20 08:39:56,708 - INFO - 成功加载 85 条意图识别训练数据
2025-11-20 08:39:56,708 - INFO - 开始批量插入数据到Milvus，总记录数: 85，批次大小: 50
2025-11-20 08:39:56,708 - INFO - 处理批次 1，记录数: 50
2025-11-20 08:39:56,712 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,712 - WARNING - 输入 '查询智慧家庭工程师信息这个资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,714 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,714 - WARNING - 输入 'M域的所有标签资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,715 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,716 - WARNING - 输入 '平台上有哪些五星资产？' 的embedding获取失败，跳过
2025-11-20 08:39:56,717 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,717 - WARNING - 输入 '总部租户的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:39:56,719 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,719 - WARNING - 输入 '查找标签资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,721 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,721 - WARNING - 输入 'O域的数据表' 的embedding获取失败，跳过
2025-11-20 08:39:56,722 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,722 - WARNING - 输入 '本周上新的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,724 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,724 - WARNING - 输入 '订阅最多的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,726 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,726 - WARNING - 输入 '日更新周期的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,727 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,727 - WARNING - 输入 '公共开放的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,729 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,729 - WARNING - 输入 '非敏感等级的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,730 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,731 - WARNING - 输入 'DWD层的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,732 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,732 - WARNING - 输入 '固网视图的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,734 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,734 - WARNING - 输入 'ESD层的所有资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,735 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,735 - WARNING - 输入 '月更新的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:39:56,737 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,737 - WARNING - 输入 '存储量大于100GB的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,738 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,739 - WARNING - 输入 '四星资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:39:56,740 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,740 - WARNING - 输入 '高价值资产列表' 的embedding获取失败，跳过
2025-11-20 08:39:56,742 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,742 - WARNING - 输入 '质量评分大于90的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,743 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,743 - WARNING - 输入 '最新上架的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,745 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,745 - WARNING - 输入 '家庭圈模型的负责人是谁？' 的embedding获取失败，跳过
2025-11-20 08:39:56,747 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,747 - WARNING - 输入 '家庭宽带网络质量数据是干什么用的？' 的embedding获取失败，跳过
2025-11-20 08:39:56,748 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,748 - WARNING - 输入 '家庭宽带网络质量数据的业务口径是什么？' 的embedding获取失败，跳过
2025-11-20 08:39:56,750 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,750 - WARNING - 输入 '这个资产的技术口径' 的embedding获取失败，跳过
2025-11-20 08:39:56,751 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,752 - WARNING - 输入 '智慧家庭工程师信息的数据更新周期' 的embedding获取失败，跳过
2025-11-20 08:39:56,753 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,753 - WARNING - 输入 '家庭圈模型的存储量是多少' 的embedding获取失败，跳过
2025-11-20 08:39:56,755 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,755 - WARNING - 输入 '上海家庭视图标签信息的负责人' 的embedding获取失败，跳过
2025-11-20 08:39:56,756 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,756 - WARNING - 输入 '上海家庭视图标签信息是干什么的' 的embedding获取失败，跳过
2025-11-20 08:39:56,758 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,758 - WARNING - 输入 '家庭圈模型的版本号' 的embedding获取失败，跳过
2025-11-20 08:39:56,760 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,760 - WARNING - 输入 '智慧家庭工程师信息的状态' 的embedding获取失败，跳过
2025-11-20 08:39:56,761 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,761 - WARNING - 输入 '家庭宽带网络质量数据的数据具备时间' 的embedding获取失败，跳过
2025-11-20 08:39:56,763 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,763 - WARNING - 输入 '这个资产归属哪个组织' 的embedding获取失败，跳过
2025-11-20 08:39:56,764 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,765 - WARNING - 输入 '资产的分类分级是什么' 的embedding获取失败，跳过
2025-11-20 08:39:56,766 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,766 - WARNING - 输入 '查看资产的开放范围' 的embedding获取失败，跳过
2025-11-20 08:39:56,768 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,768 - WARNING - 输入 '这个资产的归属项目' 的embedding获取失败，跳过
2025-11-20 08:39:56,769 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,769 - WARNING - 输入 '资产发布人是谁' 的embedding获取失败，跳过
2025-11-20 08:39:56,771 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,771 - WARNING - 输入 '数据存储周期多长' 的embedding获取失败，跳过
2025-11-20 08:39:56,773 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,773 - WARNING - 输入 '张三负责哪些资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,774 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,774 - WARNING - 输入 '李四发布的资产有哪些' 的embedding获取失败，跳过
2025-11-20 08:39:56,776 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,776 - WARNING - 输入 '家庭圈模型的价值评分是多少？' 的embedding获取失败，跳过
2025-11-20 08:39:56,777 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,777 - WARNING - 输入 '这个资产的星级是多少？' 的embedding获取失败，跳过
2025-11-20 08:39:56,779 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,779 - WARNING - 输入 '家庭宽带网络质量数据的质量稽核有什么问题？' 的embedding获取失败，跳过
2025-11-20 08:39:56,781 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,781 - WARNING - 输入 '家庭圈模型的质量怎么样' 的embedding获取失败，跳过
2025-11-20 08:39:56,782 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,782 - WARNING - 输入 '智慧家庭工程师信息的价值如何' 的embedding获取失败，跳过
2025-11-20 08:39:56,784 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,784 - WARNING - 输入 '上海家庭视图标签信息的星级评定' 的embedding获取失败，跳过
2025-11-20 08:39:56,785 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,786 - WARNING - 输入 '最近哪些资产的价值评分上升了？' 的embedding获取失败，跳过
2025-11-20 08:39:56,787 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,787 - WARNING - 输入 '智慧家庭工程师信息的上游依赖有哪些？' 的embedding获取失败，跳过
2025-11-20 08:39:56,789 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,789 - WARNING - 输入 '智慧家庭工程师信息的血缘图' 的embedding获取失败，跳过
2025-11-20 08:39:56,790 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,790 - WARNING - 输入 '这个资产的下游应用是什么?' 的embedding获取失败，跳过
2025-11-20 08:39:56,792 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,792 - WARNING - 输入 '家庭宽带网络质量数据的数据来源' 的embedding获取失败，跳过
2025-11-20 08:39:56,792 - INFO - 批次 1 处理完成
2025-11-20 08:39:56,792 - INFO - 处理批次 2，记录数: 35
2025-11-20 08:39:56,794 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,794 - WARNING - 输入 '上海家庭视图标签信息的上游是什么' 的embedding获取失败，跳过
2025-11-20 08:39:56,795 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,795 - WARNING - 输入 '家庭圈模型的下游资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,797 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,797 - WARNING - 输入 '这个资产依赖哪些数据' 的embedding获取失败，跳过
2025-11-20 08:39:56,798 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,799 - WARNING - 输入 '资产的血缘关系' 的embedding获取失败，跳过
2025-11-20 08:39:56,800 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,800 - WARNING - 输入 '我订阅的资产有哪些？' 的embedding获取失败，跳过
2025-11-20 08:39:56,802 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,802 - WARNING - 输入 '我收藏的五星资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,803 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,803 - WARNING - 输入 '家庭圈模型的工单进度如何？' 的embedding获取失败，跳过
2025-11-20 08:39:56,805 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,805 - WARNING - 输入 '这个资产有多少人订阅？' 的embedding获取失败，跳过
2025-11-20 08:39:56,807 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,807 - WARNING - 输入 '我创建的资产列表' 的embedding获取失败，跳过
2025-11-20 08:39:56,808 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,808 - WARNING - 输入 '我负责的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,810 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,810 - WARNING - 输入 '我最近访问的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,811 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,811 - WARNING - 输入 '我下载过的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,813 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,813 - WARNING - 输入 '智慧家庭工程师信息有多少人使用' 的embedding获取失败，跳过
2025-11-20 08:39:56,815 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,815 - WARNING - 输入 '家庭圈模型的工单数量' 的embedding获取失败，跳过
2025-11-20 08:39:56,816 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,816 - WARNING - 输入 '这个资产的申请进度' 的embedding获取失败，跳过
2025-11-20 08:39:56,818 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,818 - WARNING - 输入 '身份属性热点相关的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,819 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,819 - WARNING - 输入 '家庭关系相关的数据' 的embedding获取失败，跳过
2025-11-20 08:39:56,821 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,821 - WARNING - 输入 '智慧双推运营场景需要什么数据？' 的embedding获取失败，跳过
2025-11-20 08:39:56,823 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,823 - WARNING - 输入 '聚焦融合场景相关资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,824 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,824 - WARNING - 输入 '移网终端相关资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,826 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,826 - WARNING - 输入 '宽带终端数据有哪些' 的embedding获取失败，跳过
2025-11-20 08:39:56,827 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,828 - WARNING - 输入 '服务感知相关的资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,829 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,829 - WARNING - 输入 '家庭圈模型和家庭宽带网络质量数据的字段有什么不同？' 的embedding获取失败，跳过
2025-11-20 08:39:56,831 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,831 - WARNING - 输入 'ESD层的公共资产' 的embedding获取失败，跳过
2025-11-20 08:39:56,832 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,832 - WARNING - 输入 '如何订阅资产？' 的embedding获取失败，跳过
2025-11-20 08:39:56,834 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,834 - WARNING - 输入 '什么是数据资产？' 的embedding获取失败，跳过
2025-11-20 08:39:56,835 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,835 - WARNING - 输入 '如何提交工单？' 的embedding获取失败，跳过
2025-11-20 08:39:56,837 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,837 - WARNING - 输入 '数据资产平台怎么使用？' 的embedding获取失败，跳过
2025-11-20 08:39:56,839 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,839 - WARNING - 输入 '平台的联系人是谁？' 的embedding获取失败，跳过
2025-11-20 08:39:56,840 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,840 - WARNING - 输入 '业务口径和技术口径的区别' 的embedding获取失败，跳过
2025-11-20 08:39:56,842 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,842 - WARNING - 输入 '你是谁？能做什么？' 的embedding获取失败，跳过
2025-11-20 08:39:56,844 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,844 - WARNING - 输入 '助手有哪些功能？' 的embedding获取失败，跳过
2025-11-20 08:39:56,845 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,845 - WARNING - 输入 '怎么使用这个助手？' 的embedding获取失败，跳过
2025-11-20 08:39:56,847 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,847 - WARNING - 输入 '今天天气怎么样？' 的embedding获取失败，跳过
2025-11-20 08:39:56,848 - ERROR - embedding API响应格式异常: {'error': {'message': 'The model does not support Embeddings API', 'type': 'BadRequestError', 'param': None, 'code': 400}}
2025-11-20 08:39:56,849 - WARNING - 输入 '帮我写个笑话' 的embedding获取失败，跳过
2025-11-20 08:39:56,849 - INFO - 批次 2 处理完成
2025-11-20 08:39:56,849 - INFO - 所有数据插入完成
2025-11-20 08:39:56,849 - INFO - 等待索引构建完成...
2025-11-20 08:39:56,850 - INFO - 集合 intention 已加载到内存
2025-11-20 08:39:56,850 - INFO - 意图识别训练数据导入完成
2025-11-20 08:40:36,633 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-20 08:40:36,634 - INFO - 集合 intention 已存在，正在删除...
2025-11-20 08:40:36,637 - INFO - 集合 intention 已删除
2025-11-20 08:40:37,143 - INFO - 索引创建成功
2025-11-20 08:40:37,143 - INFO - 新集合 intention 创建成功
2025-11-20 08:40:37,143 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-20 08:40:37,143 - INFO - 成功加载 85 条意图识别训练数据
2025-11-20 08:40:37,143 - INFO - 开始批量插入数据到Milvus，总记录数: 85，批次大小: 50
2025-11-20 08:40:37,143 - INFO - 处理批次 1，记录数: 50
2025-11-20 08:40:37,209 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,234 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,257 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,279 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,300 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,322 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,344 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,365 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,387 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,408 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,429 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,450 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,470 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,490 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,510 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,532 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,553 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,574 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,595 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,615 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,634 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,655 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,675 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,694 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,714 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,734 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,754 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,774 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,794 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,815 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,835 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,855 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,875 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,895 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,915 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,935 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,956 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:37,978 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,000 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,021 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,043 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,065 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,086 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,106 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,127 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,147 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,167 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,187 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,207 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,227 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,491 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-20 08:40:38,492 - INFO - 批次 1 处理完成
2025-11-20 08:40:38,492 - INFO - 处理批次 2，记录数: 35
2025-11-20 08:40:38,518 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,539 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,559 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,579 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,599 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,619 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,639 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,659 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,679 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,699 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,718 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,738 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,758 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,779 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,799 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,820 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,840 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,860 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,880 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,900 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,920 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,940 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,961 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:38,981 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,001 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,021 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,042 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,062 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,083 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,105 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,127 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,148 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,169 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,190 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,211 - INFO - 成功获取文本embedding，维度: 1024
2025-11-20 08:40:39,218 - INFO - 成功插入 35 条记录，插入ID: 35
2025-11-20 08:40:39,218 - INFO - 批次 2 处理完成
2025-11-20 08:40:39,218 - INFO - 所有数据插入完成
2025-11-20 08:40:39,219 - INFO - 等待索引构建完成...
2025-11-20 08:40:39,220 - INFO - 集合 intention 已加载到内存
2025-11-20 08:40:39,220 - INFO - 意图识别训练数据导入完成
2025-11-24 03:04:07,284 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:04:07,837 - INFO - 集合包含 85 个实体
2025-11-24 03:04:07,837 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 03:04:07,837 - INFO - 集合包含 85 个实体
2025-11-24 03:04:07,837 - INFO - Milvus Lite连接测试成功
2025-11-24 03:04:07,837 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 03:04:07,838 - INFO - 正在获取查询向量...
2025-11-24 03:04:07,908 - INFO - 集合包含 85 个实体
2025-11-24 03:04:07,908 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 03:04:08,079 - INFO - 向量搜索返回 10 个文档
2025-11-24 03:04:08,079 - INFO - 召回到 10 个文档
2025-11-24 03:04:08,079 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 03:04:08,079 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 03:04:08,083 - ERROR - Rerank API调用失败，状态码: 404, 响应: {"error":{"message":"The model `bge-reranker-v2-m3` does not exist.","type":"NotFoundError","param":null,"code":404}}
2025-11-24 03:04:08,083 - INFO - 重排序失败，使用前5个召回文档
2025-11-24 03:04:08,083 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 03:04:08,083 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 03:04:08,086 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 03:04:08,086 - INFO - 响应已保存到: responses/rag_response_20251124_030408.json
2025-11-24 03:07:47,115 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:07:47,158 - ERROR - Open /data/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-24 03:07:47,158 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-24 03:07:47,158 - ERROR - Milvus Lite集合未初始化
2025-11-24 03:08:29,448 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:08:29,999 - INFO - 集合包含 85 个实体
2025-11-24 03:08:29,999 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 03:08:30,000 - INFO - 集合包含 85 个实体
2025-11-24 03:08:30,000 - INFO - Milvus Lite连接测试成功
2025-11-24 03:08:30,000 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 03:08:30,000 - INFO - 正在获取查询向量...
2025-11-24 03:08:30,060 - INFO - 集合包含 85 个实体
2025-11-24 03:08:30,061 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 03:08:30,270 - INFO - 向量搜索返回 10 个文档
2025-11-24 03:08:30,270 - INFO - 召回到 10 个文档
2025-11-24 03:08:30,271 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 03:08:30,271 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 03:08:30,273 - ERROR - Rerank API调用失败，状态码: 404, 响应: {"error":{"message":"The model `bge-reranker-v2-m3` does not exist.","type":"NotFoundError","param":null,"code":404}}
2025-11-24 03:08:30,273 - INFO - 重排序失败，使用前5个召回文档
2025-11-24 03:08:30,273 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 03:08:30,273 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 03:08:30,276 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 03:08:30,276 - INFO - 响应已保存到: responses/rag_response_20251124_030830.json
2025-11-24 03:44:33,943 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:44:34,497 - INFO - 集合包含 85 个实体
2025-11-24 03:44:34,497 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 03:44:34,497 - INFO - 集合包含 85 个实体
2025-11-24 03:44:34,497 - INFO - Milvus Lite连接测试成功
2025-11-24 03:44:34,498 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 03:44:34,498 - INFO - 正在获取查询向量...
2025-11-24 03:44:34,557 - INFO - 集合包含 85 个实体
2025-11-24 03:44:34,557 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 03:44:34,776 - INFO - 向量搜索返回 10 个文档
2025-11-24 03:44:34,776 - INFO - 召回到 10 个文档
2025-11-24 03:44:34,776 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 03:44:34,776 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 03:44:34,779 - ERROR - Rerank API调用失败，状态码: 404, 响应: {"error":{"message":"The model `bge-reranker-v2-m3` does not exist.","type":"NotFoundError","param":null,"code":404}}
2025-11-24 03:44:34,779 - INFO - 重排序失败，使用前5个召回文档
2025-11-24 03:44:34,779 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 03:44:34,780 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 03:44:34,782 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 03:44:34,783 - INFO - 响应已保存到: responses/rag_response_20251124_034434.json
2025-11-24 03:55:09,055 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:55:09,097 - ERROR - Open /data/intention_correction/milvus.db failed, the file has been opened by another program
2025-11-24 03:55:09,097 - ERROR - 连接Milvus Lite失败: <ConnectionConfigException: (code=1, message=Open local milvus failed)>
2025-11-24 03:55:09,097 - ERROR - Milvus Lite集合未初始化
2025-11-24 03:56:35,346 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:56:35,898 - INFO - 集合包含 85 个实体
2025-11-24 03:56:35,898 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 03:56:35,898 - INFO - 集合包含 85 个实体
2025-11-24 03:56:35,898 - INFO - Milvus Lite连接测试成功
2025-11-24 03:56:35,899 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 03:56:35,899 - INFO - 正在获取查询向量...
2025-11-24 03:56:35,969 - INFO - 集合包含 85 个实体
2025-11-24 03:56:35,969 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 03:56:36,164 - INFO - 向量搜索返回 10 个文档
2025-11-24 03:56:36,164 - INFO - 召回到 10 个文档
2025-11-24 03:56:36,164 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 03:56:36,164 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 03:56:36,168 - ERROR - Rerank API调用失败，状态码: 404, 响应: {"error":{"message":"The model `bge-reranker-v2-m3` does not exist.","type":"NotFoundError","param":null,"code":404}}
2025-11-24 03:56:36,168 - INFO - 重排序失败，使用前5个召回文档
2025-11-24 03:56:36,168 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 03:56:36,168 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 03:56:36,170 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 03:56:36,171 - INFO - 响应已保存到: responses/rag_response_20251124_035636.json
2025-11-24 03:59:25,731 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 03:59:26,285 - INFO - 集合包含 85 个实体
2025-11-24 03:59:26,285 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 03:59:26,285 - INFO - 集合包含 85 个实体
2025-11-24 03:59:26,285 - INFO - Milvus Lite连接测试成功
2025-11-24 03:59:26,285 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 03:59:26,286 - INFO - 正在获取查询向量...
2025-11-24 03:59:26,344 - INFO - 集合包含 85 个实体
2025-11-24 03:59:26,345 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 03:59:26,560 - INFO - 向量搜索返回 10 个文档
2025-11-24 03:59:26,560 - INFO - 召回到 10 个文档
2025-11-24 03:59:26,560 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 03:59:26,560 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 03:59:26,563 - ERROR - Rerank API调用失败，状态码: 404, 响应: {"error":{"message":"The model `bge-reranker-v2-m3` does not exist.","type":"NotFoundError","param":null,"code":404}}
2025-11-24 03:59:26,564 - INFO - 重排序失败，使用前5个召回文档
2025-11-24 03:59:26,564 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 03:59:26,564 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 03:59:26,566 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 03:59:26,567 - INFO - 响应已保存到: responses/rag_response_20251124_035926.json
2025-11-24 04:03:23,153 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 04:03:23,708 - INFO - 集合包含 85 个实体
2025-11-24 04:03:23,708 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 04:03:23,709 - INFO - 集合包含 85 个实体
2025-11-24 04:03:23,709 - INFO - Milvus Lite连接测试成功
2025-11-24 04:03:23,709 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 04:03:23,709 - INFO - 正在获取查询向量...
2025-11-24 04:03:23,769 - INFO - 集合包含 85 个实体
2025-11-24 04:03:23,769 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 04:03:23,977 - INFO - 向量搜索返回 10 个文档
2025-11-24 04:03:23,977 - INFO - 召回到 10 个文档
2025-11-24 04:03:23,977 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 04:03:23,977 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 04:03:24,601 - INFO - Rerank调用成功，返回 10 个结果
2025-11-24 04:03:24,601 - INFO - 重排序后选择 5 个最相关文档
2025-11-24 04:03:24,601 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 04:03:24,601 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 04:03:24,604 - ERROR - API调用失败，状态码: 400, 响应: {"error":{"message":"[{'type': 'dict_type', 'loc': ('body', 'chat_template_kwargs'), 'msg': 'Input should be a valid dictionary', 'input': '{\"enable_thinking\": false}'}]","type":"Bad Request","param":null,"code":400}}
2025-11-24 04:03:24,604 - INFO - 响应已保存到: responses/rag_response_20251124_040324.json
2025-11-24 04:10:42,487 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 04:10:43,042 - INFO - 集合包含 85 个实体
2025-11-24 04:10:43,042 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 04:10:43,042 - INFO - 集合包含 85 个实体
2025-11-24 04:10:43,042 - INFO - Milvus Lite连接测试成功
2025-11-24 04:10:43,042 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 04:10:43,042 - INFO - 正在获取查询向量...
2025-11-24 04:10:43,101 - INFO - 集合包含 85 个实体
2025-11-24 04:10:43,101 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 04:10:43,332 - INFO - 向量搜索返回 10 个文档
2025-11-24 04:10:43,332 - INFO - 召回到 10 个文档
2025-11-24 04:10:43,332 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 04:10:43,332 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 04:10:43,723 - INFO - Rerank调用成功，返回 10 个结果
2025-11-24 04:10:43,723 - INFO - 重排序后选择 5 个最相关文档
2025-11-24 04:10:43,724 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 04:10:43,724 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 04:10:49,840 - INFO - 大模型调用成功
2025-11-24 04:10:49,840 - INFO - 响应已保存到: responses/rag_response_20251124_041049.json
2025-11-24 06:56:21,294 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 06:56:21,294 - ERROR - Milvus Lite集合未初始化
2025-11-24 06:56:43,078 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 06:56:43,078 - ERROR - Milvus Lite集合未初始化
2025-11-24 06:57:28,017 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 06:57:28,017 - ERROR - Milvus Lite集合未初始化
2025-11-24 06:58:43,758 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 06:58:43,758 - ERROR - Milvus Lite集合未初始化
2025-11-24 06:59:34,815 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 06:59:34,815 - ERROR - Milvus Lite集合未初始化
2025-11-24 07:02:44,851 - WARNING - pymilvus或milvus-lite未安装，向量召回功能将不可用
2025-11-24 07:02:44,851 - ERROR - Milvus Lite集合未初始化
2025-11-24 07:04:40,758 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 07:04:41,312 - INFO - 集合包含 85 个实体
2025-11-24 07:04:41,312 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 07:04:41,312 - INFO - 集合包含 85 个实体
2025-11-24 07:04:41,313 - INFO - Milvus Lite连接测试成功
2025-11-24 07:04:41,313 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 07:04:41,313 - INFO - 正在获取查询向量...
2025-11-24 07:04:41,371 - INFO - 集合包含 85 个实体
2025-11-24 07:04:41,371 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 07:04:41,559 - INFO - 向量搜索返回 10 个文档
2025-11-24 07:04:41,559 - INFO - 召回到 10 个文档
2025-11-24 07:04:41,559 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 07:04:41,559 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 07:04:41,944 - INFO - Rerank调用成功，返回 10 个结果
2025-11-24 07:04:41,945 - INFO - 重排序后选择 5 个最相关文档
2025-11-24 07:04:41,945 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 07:04:41,945 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 07:04:42,863 - INFO - 大模型调用成功
2025-11-24 07:04:42,863 - INFO - 响应已保存到: responses/rag_response_20251124_070442.json
2025-11-24 07:10:52,103 - INFO - 正在连接Milvus Lite数据库: ./milvus.db
2025-11-24 07:10:52,660 - INFO - 集合包含 85 个实体
2025-11-24 07:10:52,660 - INFO - 成功连接到Milvus Lite集合: intention
2025-11-24 07:10:52,661 - INFO - 集合包含 85 个实体
2025-11-24 07:10:52,661 - INFO - Milvus Lite连接测试成功
2025-11-24 07:10:52,661 - INFO - 开始RAG查询: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始问题"}。
  若用户询问平台操作/帮助/名词解释/资产推荐，则返回 {intent: "38", slots: {}, query: "用户查询的原始问题"}。
  无需对识别结果进行解释或说明。

  【输出要求】
  1. 格式：严格遵循JSON结构 {"intent": "意图编码", "slots": {"槽位类型": "槽位值"}, "query": "用户查询的原始问题"}
  2. 约束：只输出JSON，不要包含任何解释、思考过程或其他文字
  3. 规则：无法提取的槽位直接省略，不要返回null或空字符串

  ═══════════════════════════════════════
  【意图清单】
  ═══════════════════════════════════════

  31 - 资产基础检索
    功能：基于名称/字段/域/类型/租户/排行/核心数据项/归属数据域/归属数据层/资产开放范围等条件查找资产
    核心槽位：AssetName, AssetType, BusinessDomain, FilterCondition, AssetRanking, OwnerTenant, FieldName, CoreDataItem, DataDomain, DataLayer, AssetOpenScope

  32 - 资产元数据查询
    功能：查询资产的业务口径/技术口径/负责人/数据存储周期/数据域/数据层/资产开放范围等元数据
    核心槽位：AssetName, MetadataItem（必填）, AssetType, BusinessDomain, FilterCondition, FieldName, AssertAdmin, AssertPublisher
    注意：MetadataItem支持同义词（"业务解释"→"业务口径"、"是干什么的"→"简介/用途"）

  33 - 资产质量与价值查询
    功能：查询资产的价值评分/星级/质量稽核
    核心槽位：AssetName, FilterCondition

  34 - 资产血缘关系查询
    功能：查询资产的上游依赖/下游应用/血缘图/依赖数量
    核心槽位：AssetName（必填）, LineageDirection, MetadataItem

  35 - 资产使用与工单查询
    功能：查询订阅/收藏/工单进度/审批/账期/API服务
    核心槽位：UserStatus, MetadataItem, AssetName, AssetType, FilterCondition, OrgName/UserName

  36 - 场景与标签推荐
    功能：基于业务专区/场景/业务概念推荐资产
    核心槽位：BusinessZone, CoreDataItem, AssetType

  37 - 资产复合对比与筛选
    功能：对比两个资产或进行多条件筛选
    核心槽位：AssetName（多个）, MetadataItem, AssetType, BusinessDomain, FilterCondition

  38 - 平台规则与帮助
    功能：询问平台操作/帮助/名词解释/资产推荐
    核心槽位：无

  39 - 助手能力与帮助
  功能：询问助手自身的能力范围、功能清单、使用方法、身份定义等相关问题
  核心槽位：无
  注意：仅针对“助手本身”的咨询，不包含平台规则、业务名词等非助手相关问题

  40 - OOD兜底
    功能：当用户查询与意图清单都不相符时，返回OOD兜底回答
    核心槽位：无

  ═══════════════════════════════════════
  【槽位定义】
  ═══════════════════════════════════════

  AssetName：资产完整名称（如"[在线公司]终端激活信息(日)"）
  MetadataItem：元数据项（业务口径/技术口径/负责人/血缘图/依赖数量/审批/账期/API服务）
  FieldName：字段名称（user_id/order_id）
  CoreDataItem：业务概念（5G登网/数据资产/移网用户是否活跃, 宽带用户是否活跃, 宽带下是否有异网号码等具体描述）
  BusinessDomain：业务域（M域/O域/B域/API来源/数据库同步）
  AssetType：资产类型（标签/数据表/模型资产/指标/API服务）
  BusinessZone：业务专区（公众智慧运营/一线赋能专区）
  FilterCondition：筛选条件（五星/高价值/最近一周更新的）
  LineageDirection：血缘方向（上游/下游/血缘图）
  OwnerTenant：归属租户（总部/分公司A/数据部）
  AssetRanking：综合排行（最新/本周上新/热门/订阅最多）
  AssertAdmin：资产管理员、负责人（张三）
  AssertPublisher：资产发布人（李四）
  DataDomain：归属数据域（固网视图/客户视图/公众客户信息/营销活动）
  DataLayer：归属数据层（ESD/DM/SRC）
  AssetOpenScope：资产开放范围（公共/私有/保护）

  ═══════════════════════════════════════
  【识别规则】
  ═══════════════════════════════════════

  1. AssetName必须识别完整名称（包括前缀[]和周期()），不要只识别部分
  2. MetadataItem需要识别同义词并规范化
  3. 多个同类型槽位使用数组：{"AssetName": ["资产1", "资产2"]}
  4. 无法提取的槽位直接省略，不返回null
  5. intent必须是31-38之一，无法识别时返回"38"
  6. slots是对象格式{"SlotType": "value"}，不是数组
  7. 输出纯JSON，不包含任何解释或说明
  8. 归属数据层识别为ESD、DM、SRC等
  9. query是用户查询的原始问题

  ═══════════════════════════════════════
  【输出格式示例】
  ═══════════════════════════════════════

  {"intent": "31", "slots": {"BusinessDomain": "M域", "AssetType": "标签"}, "query":"M域的所有标签资产"}
  {"intent": "32", "slots": {"AssetName": "宽带提质速率(月)", "MetadataItem": "业务口径"}, "query": "宽带提质速率(月)的业务口径是什么？"}
  {"intent": "34", "slots": {"AssetName": "HR系统", "LineageDirection": "上游"}, "query": "HR系统上游依赖有哪些？"}
  {"intent": "38", "slots": {}, "query": "平台有什么功能？"}
  {"intent": "38", "slots": {}, "query": "业务口径和技术口径的区别"}
  {"intent": "40", "slots": {}, "query": "今天天气怎么样？"}
  
2025-11-24 07:10:52,661 - INFO - 正在获取查询向量...
2025-11-24 07:10:52,719 - INFO - 集合包含 85 个实体
2025-11-24 07:10:52,719 - INFO - 开始向量搜索，返回 10 个结果...
2025-11-24 07:10:52,948 - INFO - 向量搜索返回 10 个文档
2025-11-24 07:10:52,949 - INFO - 召回到 10 个文档
2025-11-24 07:10:52,949 - INFO - 调用rerank API: http://localhost:54113/v1/rerank
2025-11-24 07:10:52,949 - INFO - 查询内容: 【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查...
2025-11-24 07:10:53,336 - INFO - Rerank调用成功，返回 10 个结果
2025-11-24 07:10:53,336 - INFO - 重排序后选择 5 个最相关文档
2025-11-24 07:10:53,336 - INFO - 调用大模型API: http://localhost:54112/v1/chat/completions
2025-11-24 07:10:53,336 - INFO - 请求内容:         【指令】
  作为数据资产助手的意图识别专家，请分析用户查询，识别意图并提取槽位。
  若用户问题与意图清单都不相符，则返回 {intent: "40", slots: {}, query: "用户查询的原始问题"}。
  若用户询问助手本身的能力范围、功能清单、使用方法、身份定义等相关问题，则返回 {intent: "39", slots: {}, query: "用户查询的原始...
2025-11-24 07:10:57,972 - INFO - 大模型调用成功
2025-11-24 07:10:57,973 - INFO - 响应已保存到: responses/rag_response_20251124_071057.json
2025-11-24 07:54:00,961 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-24 07:54:00,962 - INFO - 集合 intention 已存在，正在删除...
2025-11-24 07:54:00,965 - INFO - 集合 intention 已删除
2025-11-24 07:54:01,476 - INFO - 索引创建成功
2025-11-24 07:54:01,476 - INFO - 新集合 intention 创建成功
2025-11-24 07:54:01,476 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-24 07:54:01,477 - INFO - 成功加载 100 条意图识别训练数据
2025-11-24 07:54:01,477 - INFO - 开始批量插入数据到Milvus，总记录数: 100，批次大小: 50
2025-11-24 07:54:01,477 - INFO - 处理批次 1，记录数: 50
2025-11-24 07:54:01,509 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,530 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,551 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,571 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,591 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,611 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,631 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,651 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,671 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,691 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,711 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,730 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,750 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,770 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,790 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,810 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,829 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,849 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,869 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,888 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,908 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,929 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,949 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,969 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:01,989 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,010 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,029 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,049 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,069 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,089 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,109 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,129 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,149 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,169 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,190 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,211 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,231 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,250 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,270 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,290 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,310 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,330 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,350 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,370 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,390 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,410 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,430 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,450 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,469 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,489 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,728 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-24 07:54:02,729 - INFO - 批次 1 处理完成
2025-11-24 07:54:02,729 - INFO - 处理批次 2，记录数: 50
2025-11-24 07:54:02,752 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,773 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,794 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,814 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,834 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,854 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,874 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,894 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,914 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,935 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,955 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,975 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:02,995 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,016 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,038 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,058 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,079 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,098 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,118 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,138 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,158 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,177 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,198 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,217 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,236 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,256 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,276 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,296 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,316 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,335 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,355 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,375 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,395 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,415 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,435 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,456 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,477 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,497 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,517 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,537 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,557 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,577 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,597 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,617 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,637 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,657 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,677 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,697 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,717 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,737 - INFO - 成功获取文本embedding，维度: 1024
2025-11-24 07:54:03,745 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-24 07:54:03,746 - INFO - 批次 2 处理完成
2025-11-24 07:54:03,746 - INFO - 所有数据插入完成
2025-11-24 07:54:03,747 - INFO - 等待索引构建完成...
2025-11-24 07:54:03,748 - INFO - 集合 intention 已加载到内存
2025-11-24 07:54:03,748 - INFO - 意图识别训练数据导入完成
2025-11-25 08:58:55,944 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-25 08:58:55,945 - INFO - 集合 intention 已存在，正在删除...
2025-11-25 08:58:55,947 - INFO - 集合 intention 已删除
2025-11-25 08:58:56,454 - INFO - 索引创建成功
2025-11-25 08:58:56,454 - INFO - 新集合 intention 创建成功
2025-11-25 08:58:56,454 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-25 08:58:56,455 - INFO - 成功加载 100 条意图识别训练数据
2025-11-25 08:58:56,455 - INFO - 开始批量插入数据到Milvus，总记录数: 100，批次大小: 50
2025-11-25 08:58:56,455 - INFO - 处理批次 1，记录数: 50
2025-11-25 08:58:56,487 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,508 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,528 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,548 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,568 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,589 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,609 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,629 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,648 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,668 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,688 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,707 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,727 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,747 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,766 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,786 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,805 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,825 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,844 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,864 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,883 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,902 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,922 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,941 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,961 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,980 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:56,999 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,019 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,038 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,057 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,076 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,095 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,115 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,135 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,155 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,174 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,193 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,212 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,232 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,251 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,270 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,290 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,309 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,328 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,348 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,367 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,386 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,406 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,425 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,444 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,682 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-25 08:58:57,683 - INFO - 批次 1 处理完成
2025-11-25 08:58:57,683 - INFO - 处理批次 2，记录数: 50
2025-11-25 08:58:57,706 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,726 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,745 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,765 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,784 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,803 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,823 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,842 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,862 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,881 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,900 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,920 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,939 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,958 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,978 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:57,997 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,016 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,036 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,056 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,075 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,095 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,114 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,133 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,153 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,172 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,191 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,211 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,230 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,249 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,269 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,288 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,308 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,327 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,347 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,366 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,386 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,406 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,425 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,444 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,464 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,484 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,503 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,523 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,542 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,562 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,581 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,602 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,623 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,643 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,662 - INFO - 成功获取文本embedding，维度: 1024
2025-11-25 08:58:58,670 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-25 08:58:58,671 - INFO - 批次 2 处理完成
2025-11-25 08:58:58,671 - INFO - 所有数据插入完成
2025-11-25 08:58:58,672 - INFO - 等待索引构建完成...
2025-11-25 08:58:58,673 - INFO - 集合 intention 已加载到内存
2025-11-25 08:58:58,673 - INFO - 意图识别训练数据导入完成
2025-11-26 02:26:27,727 - INFO - 成功连接到MilvusLite: ./milvus.db
2025-11-26 02:26:27,730 - INFO - 集合 intention 已存在，正在删除...
2025-11-26 02:26:27,733 - INFO - 集合 intention 已删除
2025-11-26 02:26:28,238 - INFO - 索引创建成功
2025-11-26 02:26:28,238 - INFO - 新集合 intention 创建成功
2025-11-26 02:26:28,239 - INFO - 开始导入意图识别训练数据到Milvus
2025-11-26 02:26:28,239 - INFO - 成功加载 100 条意图识别训练数据
2025-11-26 02:26:28,239 - INFO - 开始批量插入数据到Milvus，总记录数: 100，批次大小: 50
2025-11-26 02:26:28,239 - INFO - 处理批次 1，记录数: 50
2025-11-26 02:26:28,270 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,291 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,310 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,330 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,349 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,368 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,388 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,407 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,426 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,445 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,465 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,484 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,503 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,522 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,541 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,561 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,581 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,601 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,620 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,640 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,659 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,679 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,698 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,718 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,737 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,757 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,776 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,795 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,815 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,834 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,854 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,873 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,893 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,913 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,932 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,952 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,971 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:28,990 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,010 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,029 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,049 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,069 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,088 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,108 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,127 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,147 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,166 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,186 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,205 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,225 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,448 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-26 02:26:29,449 - INFO - 批次 1 处理完成
2025-11-26 02:26:29,449 - INFO - 处理批次 2，记录数: 50
2025-11-26 02:26:29,471 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,491 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,510 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,529 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,549 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,568 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,587 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,606 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,626 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,645 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,664 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,683 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,702 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,721 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,741 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,760 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,780 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,799 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,819 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,838 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,857 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,877 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,896 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,915 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,935 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,954 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,973 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:29,992 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,011 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,030 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,049 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,069 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,088 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,107 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,126 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,146 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,165 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,184 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,204 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,223 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,243 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,262 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,282 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,301 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,320 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,340 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,359 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,378 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,398 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,417 - INFO - 成功获取文本embedding，维度: 1024
2025-11-26 02:26:30,424 - INFO - 成功插入 50 条记录，插入ID: 50
2025-11-26 02:26:30,425 - INFO - 批次 2 处理完成
2025-11-26 02:26:30,425 - INFO - 所有数据插入完成
2025-11-26 02:26:30,426 - INFO - 等待索引构建完成...
2025-11-26 02:26:30,427 - INFO - 集合 intention 已加载到内存
2025-11-26 02:26:30,427 - INFO - 意图识别训练数据导入完成
